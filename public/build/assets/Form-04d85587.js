import{r as t,j as r,F as b,a as s}from"./app-12155d7d.js";import{I as y}from"./InputError-b39280a0.js";import{I as o}from"./InputLabel-a6ff48db.js";import{P as S}from"./PrimaryButton-bf4695c7.js";import{S as I}from"./SecondaryButton-456a1177.js";import{T as k}from"./TextInput-d440a1d3.js";import{T as C}from"./TextInputCheckbox-1e7f9a70.js";function T({errors:p,permissions:u,submit:f,data:c,setData:i,model:n,closeButton:h}){const x=u;let N=n?n.permissions.map(e=>e.id):[];const[m,d]=t.useState([]);t.useEffect(()=>{const e=N,l=x.map(a=>e.includes(a.id)?{...a,isSelected:!0}:a);d(l)},[]);const v=e=>{d(l=>l.map(a=>a.id===e?{...a,isSelected:!a.isSelected}:a))},g=m.filter(e=>e.isSelected).map(e=>e.id);return t.useEffect(()=>{i({...c,permissions:g})},[m]),r(b,{children:[s("div",{className:"px-4 py-5 bg-white sm:p-6",children:r("div",{className:"grid grid-cols-12 gap-6",children:[r("div",{className:"col-span-12",children:[s(o,{for:"name",value:"Nama"}),s(k,{id:"name",value:c.name,handleChange:e=>i("name",e.target.value),type:"text",className:"block w-full mt-1"}),s(y,{message:p.name,className:"mt-2"})]}),s("div",{className:"col-span-12 mt-2",children:s("p",{className:"text-lg font-semibold text-gray-700",children:"Pilih Permissions"})}),m.map(e=>r("div",{className:"flex justify-between col-span-4 px-3 py-4 border rounded-md",children:[s(o,{for:e.name,value:e.name,className:"uppercase"}),s("div",{className:"flex flex-col items-start",children:s(C,{id:e.name,value:e.id,name:e.name,checked:e.isSelected,onChange:l=>{v(e.id)},className:"block w-full"},e.id)})]},e.id))]})}),r("div",{className:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s(S,{children:f}),s(I,{className:"mx-2",onClick:h,children:"Batal"})]})]})}export{T as default};
