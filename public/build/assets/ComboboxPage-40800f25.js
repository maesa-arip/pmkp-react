import{r as l,R as Z,a as T,j as ee,F as fe}from"./app-39b28b75.js";import{i as re,u as me,a as h,x as ve}from"./use-tracked-pointer-be5d0ab3.js";import{V as B,j as se,y as W,p as ae,o as x,X as j,l as M,s as xe,u as V,P as ge,m as ce}from"./render-c0db6c63.js";import{I as X,h as Re,s as Ce,o as S,r as Oe,A as he}from"./keyboard-2676573b.js";import{L as Ie}from"./use-outside-click-973caf8c.js";import{s as we}from"./use-resolve-button-type-6de0b13d.js";import{F as Se}from"./use-tree-walker-f0531641.js";import{T as ye,e as Pe}from"./use-controllable-90b8c745.js";import{s as Te,p as ne,C as $e,K as Ee}from"./transition-f985c522.js";import{m as de}from"./use-watch-36608396.js";var Fe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Fe||{}),ke=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ke||{}),De=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(De||{}),Le=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e))(Le||{});function te(e,n=r=>r){let r=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=he(n(e.options.slice()),a=>a.dataRef.current.domRef.current),d=r?o.indexOf(r):null;return d===-1&&(d=null),{options:o,activeOptionIndex:d}}let Me={[1](e){return e.dataRef.current.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},[0](e){if(e.dataRef.current.disabled||e.comboboxState===0)return e;let n=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,o=e.options.findIndex(d=>r(d.dataRef.current.value));return o!==-1&&(n=o),{...e,comboboxState:0,activeOptionIndex:n}},[2](e,n){var r;if(e.dataRef.current.disabled||e.dataRef.current.optionsRef.current&&!e.dataRef.current.optionsPropsRef.current.static&&e.comboboxState===1)return e;let o=te(e);if(o.activeOptionIndex===null){let a=o.options.findIndex(i=>!i.dataRef.current.disabled);a!==-1&&(o.activeOptionIndex=a)}let d=ve(n,{resolveItems:()=>o.options,resolveActiveIndex:()=>o.activeOptionIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...e,...o,activeOptionIndex:d,activationTrigger:(r=n.trigger)!=null?r:1}},[3]:(e,n)=>{let r={id:n.id,dataRef:n.dataRef},o=te(e,a=>[...a,r]);e.activeOptionIndex===null&&e.dataRef.current.isSelected(n.dataRef.current.value)&&(o.activeOptionIndex=o.options.indexOf(r));let d={...e,...o,activationTrigger:1};return e.dataRef.current.__demoMode&&e.dataRef.current.value===void 0&&(d.activeOptionIndex=0),d},[4]:(e,n)=>{let r=te(e,o=>{let d=o.findIndex(a=>a.id===n.id);return d!==-1&&o.splice(d,1),o});return{...e,...r,activationTrigger:1}},[5]:(e,n)=>({...e,labelId:n.id})},ie=l.createContext(null);ie.displayName="ComboboxActionsContext";function G(e){let n=l.useContext(ie);if(n===null){let r=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,G),r}return n}let le=l.createContext(null);le.displayName="ComboboxDataContext";function K(e){let n=l.useContext(le);if(n===null){let r=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,K),r}return n}function Ne(e,n){return V(n.type,Me,e,n)}let Ae=l.Fragment;function _e(e,n){let{value:r,defaultValue:o,onChange:d,name:a,by:i=(f,v)=>f===v,disabled:C=!1,__demoMode:b=!1,nullable:u=!1,multiple:g=!1,...I}=e,[t=g?[]:void 0,p]=ye(r,d,o),[w,s]=l.useReducer(Ne,{dataRef:l.createRef(),comboboxState:b?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),R=l.useRef(!1),N=l.useRef({static:!1,hold:!1}),F=l.useRef(null),U=l.useRef(null),k=l.useRef(null),A=l.useRef(null),$=x(typeof i=="string"?(f,v)=>{let y=i;return(f==null?void 0:f[y])===(v==null?void 0:v[y])}:i),_=l.useCallback(f=>V(m.mode,{[1]:()=>t.some(v=>$(v,f)),[0]:()=>$(t,f)}),[t]),m=l.useMemo(()=>({...w,optionsPropsRef:N,labelRef:F,inputRef:U,buttonRef:k,optionsRef:A,value:t,defaultValue:o,disabled:C,mode:g?1:0,get activeOptionIndex(){if(R.current&&w.activeOptionIndex===null&&w.options.length>0){let f=w.options.findIndex(v=>!v.dataRef.current.disabled);if(f!==-1)return f}return w.activeOptionIndex},compare:$,isSelected:_,nullable:u,__demoMode:b}),[t,o,C,g,u,b,w]);M(()=>{w.dataRef.current=m},[m]),Ie([m.buttonRef,m.inputRef,m.optionsRef],()=>oe.closeCombobox(),m.comboboxState===0);let O=l.useMemo(()=>({open:m.comboboxState===0,disabled:C,activeIndex:m.activeOptionIndex,activeOption:m.activeOptionIndex===null?null:m.options[m.activeOptionIndex].dataRef.current.value,value:t}),[m,C,t]),D=x(f=>{let v=m.options.find(y=>y.id===f);!v||E(v.dataRef.current.value)}),c=x(()=>{if(m.activeOptionIndex!==null){let{dataRef:f,id:v}=m.options[m.activeOptionIndex];E(f.current.value),oe.goToOption(h.Specific,v)}}),L=x(()=>{s({type:0}),R.current=!0}),P=x(()=>{s({type:1}),R.current=!1}),q=x((f,v,y)=>(R.current=!1,f===h.Specific?s({type:2,focus:h.Specific,id:v,trigger:y}):s({type:2,focus:f,trigger:y}))),H=x((f,v)=>(s({type:3,id:f,dataRef:v}),()=>s({type:4,id:f}))),Q=x(f=>(s({type:5,id:f}),()=>s({type:5,id:null}))),E=x(f=>V(m.mode,{[0](){return p==null?void 0:p(f)},[1](){let v=m.value.slice(),y=v.findIndex(J=>$(J,f));return y===-1?v.push(f):v.splice(y,1),p==null?void 0:p(v)}})),oe=l.useMemo(()=>({onChange:E,registerOption:H,registerLabel:Q,goToOption:q,closeCombobox:P,openCombobox:L,selectActiveOption:c,selectOption:D}),[]),pe=n===null?{}:{ref:n},Y=l.useRef(null),be=ae();return l.useEffect(()=>{!Y.current||o!==void 0&&be.addEventListener(Y.current,"reset",()=>{E(o)})},[Y,E]),Z.createElement(ie.Provider,{value:oe},Z.createElement(le.Provider,{value:m},Z.createElement($e,{value:V(m.comboboxState,{[0]:ne.Open,[1]:ne.Closed})},a!=null&&t!=null&&Pe({[a]:t}).map(([f,v],y)=>Z.createElement(Re,{features:Ce.Hidden,ref:y===0?J=>{var ue;Y.current=(ue=J==null?void 0:J.closest("form"))!=null?ue:null}:void 0,...ge({key:f,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:f,value:v})})),j({ourProps:pe,theirProps:I,slot:O,defaultTag:Ae,name:"Combobox"}))))}let Ve=B(_e),Be="input",je=B(function(e,n){var r,o,d,a;let i=X(),{id:C=`headlessui-combobox-input-${i}`,onChange:b,displayValue:u,type:g="text",...I}=e,t=K("Combobox.Input"),p=G("Combobox.Input"),w=W(t.inputRef,n),s=l.useRef(!1),R=ae(),N=function(){var c;return typeof u=="function"&&t.value!==void 0?(c=u(t.value))!=null?c:"":typeof t.value=="string"?t.value:""}();de(([c,L],[P,q])=>{s.current||!t.inputRef.current||(q===0&&L===1||c!==P)&&(t.inputRef.current.value=c)},[N,t.comboboxState]),de(([c],[L])=>{if(c===0&&L===1){let P=t.inputRef.current;if(!P)return;let q=P.value,{selectionStart:H,selectionEnd:Q,selectionDirection:E}=P;P.value="",P.value=q,E!==null?P.setSelectionRange(H,Q,E):P.setSelectionRange(H,Q)}},[t.comboboxState]);let F=l.useRef(!1),U=x(()=>{F.current=!0}),k=x(()=>{setTimeout(()=>{F.current=!1})}),A=x(c=>{switch(s.current=!0,c.key){case S.Backspace:case S.Delete:if(t.mode!==0||!t.nullable)return;let L=c.currentTarget;R.requestAnimationFrame(()=>{L.value===""&&(p.onChange(null),t.optionsRef.current&&(t.optionsRef.current.scrollTop=0),p.goToOption(h.Nothing))});break;case S.Enter:if(s.current=!1,t.comboboxState!==0||F.current)return;if(c.preventDefault(),c.stopPropagation(),t.activeOptionIndex===null){p.closeCombobox();return}p.selectActiveOption(),t.mode===0&&p.closeCombobox();break;case S.ArrowDown:return s.current=!1,c.preventDefault(),c.stopPropagation(),V(t.comboboxState,{[0]:()=>{p.goToOption(h.Next)},[1]:()=>{p.openCombobox()}});case S.ArrowUp:return s.current=!1,c.preventDefault(),c.stopPropagation(),V(t.comboboxState,{[0]:()=>{p.goToOption(h.Previous)},[1]:()=>{p.openCombobox(),R.nextFrame(()=>{t.value||p.goToOption(h.Last)})}});case S.Home:if(c.shiftKey)break;return s.current=!1,c.preventDefault(),c.stopPropagation(),p.goToOption(h.First);case S.PageUp:return s.current=!1,c.preventDefault(),c.stopPropagation(),p.goToOption(h.First);case S.End:if(c.shiftKey)break;return s.current=!1,c.preventDefault(),c.stopPropagation(),p.goToOption(h.Last);case S.PageDown:return s.current=!1,c.preventDefault(),c.stopPropagation(),p.goToOption(h.Last);case S.Escape:return s.current=!1,t.comboboxState!==0?void 0:(c.preventDefault(),t.optionsRef.current&&!t.optionsPropsRef.current.static&&c.stopPropagation(),p.closeCombobox());case S.Tab:if(s.current=!1,t.comboboxState!==0)return;t.mode===0&&p.selectActiveOption(),p.closeCombobox();break}}),$=x(c=>{p.openCombobox(),b==null||b(c)}),_=x(()=>{s.current=!1}),m=re(()=>{if(t.labelId)return[t.labelId].join(" ")},[t.labelId]),O=l.useMemo(()=>({open:t.comboboxState===0,disabled:t.disabled}),[t]),D={ref:w,id:C,role:"combobox",type:g,"aria-controls":(r=t.optionsRef.current)==null?void 0:r.id,"aria-expanded":t.disabled?void 0:t.comboboxState===0,"aria-activedescendant":t.activeOptionIndex===null||(o=t.options[t.activeOptionIndex])==null?void 0:o.id,"aria-multiselectable":t.mode===1?!0:void 0,"aria-labelledby":m,"aria-autocomplete":"list",defaultValue:(a=(d=e.defaultValue)!=null?d:t.defaultValue!==void 0?u==null?void 0:u(t.defaultValue):null)!=null?a:t.defaultValue,disabled:t.disabled,onCompositionStart:U,onCompositionEnd:k,onKeyDown:A,onChange:$,onBlur:_};return j({ourProps:D,theirProps:I,slot:O,defaultTag:Be,name:"Combobox.Input"})}),Ke="button",Ue=B(function(e,n){var r;let o=K("Combobox.Button"),d=G("Combobox.Button"),a=W(o.buttonRef,n),i=X(),{id:C=`headlessui-combobox-button-${i}`,...b}=e,u=ae(),g=x(s=>{switch(s.key){case S.ArrowDown:return s.preventDefault(),s.stopPropagation(),o.comboboxState===1&&d.openCombobox(),u.nextFrame(()=>{var R;return(R=o.inputRef.current)==null?void 0:R.focus({preventScroll:!0})});case S.ArrowUp:return s.preventDefault(),s.stopPropagation(),o.comboboxState===1&&(d.openCombobox(),u.nextFrame(()=>{o.value||d.goToOption(h.Last)})),u.nextFrame(()=>{var R;return(R=o.inputRef.current)==null?void 0:R.focus({preventScroll:!0})});case S.Escape:return o.comboboxState!==0?void 0:(s.preventDefault(),o.optionsRef.current&&!o.optionsPropsRef.current.static&&s.stopPropagation(),d.closeCombobox(),u.nextFrame(()=>{var R;return(R=o.inputRef.current)==null?void 0:R.focus({preventScroll:!0})}));default:return}}),I=x(s=>{if(Oe(s.currentTarget))return s.preventDefault();o.comboboxState===0?d.closeCombobox():(s.preventDefault(),d.openCombobox()),u.nextFrame(()=>{var R;return(R=o.inputRef.current)==null?void 0:R.focus({preventScroll:!0})})}),t=re(()=>{if(o.labelId)return[o.labelId,C].join(" ")},[o.labelId,C]),p=l.useMemo(()=>({open:o.comboboxState===0,disabled:o.disabled,value:o.value}),[o]),w={ref:a,id:C,type:we(e,o.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(r=o.optionsRef.current)==null?void 0:r.id,"aria-expanded":o.disabled?void 0:o.comboboxState===0,"aria-labelledby":t,disabled:o.disabled,onClick:I,onKeyDown:g};return j({ourProps:w,theirProps:b,slot:p,defaultTag:Ke,name:"Combobox.Button"})}),qe="label",ze=B(function(e,n){let r=X(),{id:o=`headlessui-combobox-label-${r}`,...d}=e,a=K("Combobox.Label"),i=G("Combobox.Label"),C=W(a.labelRef,n);M(()=>i.registerLabel(o),[o]);let b=x(()=>{var g;return(g=a.inputRef.current)==null?void 0:g.focus({preventScroll:!0})}),u=l.useMemo(()=>({open:a.comboboxState===0,disabled:a.disabled}),[a]);return j({ourProps:{ref:C,id:o,onClick:b},theirProps:d,slot:u,defaultTag:qe,name:"Combobox.Label"})}),We="ul",Xe=se.RenderStrategy|se.Static,Ge=B(function(e,n){let r=X(),{id:o=`headlessui-combobox-options-${r}`,hold:d=!1,...a}=e,i=K("Combobox.Options"),C=W(i.optionsRef,n),b=Te(),u=(()=>b!==null?b===ne.Open:i.comboboxState===0)();M(()=>{var t;i.optionsPropsRef.current.static=(t=e.static)!=null?t:!1},[i.optionsPropsRef,e.static]),M(()=>{i.optionsPropsRef.current.hold=d},[i.optionsPropsRef,d]),Se({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(t){return t.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});let g=re(()=>{var t,p;return(p=i.labelId)!=null?p:(t=i.buttonRef.current)==null?void 0:t.id},[i.labelId,i.buttonRef.current]),I=l.useMemo(()=>({open:i.comboboxState===0}),[i]);return j({ourProps:{"aria-labelledby":g,role:"listbox",id:o,ref:C},theirProps:a,slot:I,defaultTag:We,features:Xe,visible:u,name:"Combobox.Options"})}),He="li",Qe=B(function(e,n){var r,o;let d=X(),{id:a=`headlessui-combobox-option-${d}`,disabled:i=!1,value:C,...b}=e,u=K("Combobox.Option"),g=G("Combobox.Option"),I=u.activeOptionIndex!==null?u.options[u.activeOptionIndex].id===a:!1,t=u.isSelected(C),p=l.useRef(null),w=xe({disabled:i,value:C,domRef:p,textValue:(o=(r=p.current)==null?void 0:r.textContent)==null?void 0:o.toLowerCase()}),s=W(n,p),R=x(()=>g.selectOption(a));M(()=>g.registerOption(a,w),[w,a]);let N=l.useRef(!u.__demoMode);M(()=>{if(!u.__demoMode)return;let O=ce();return O.requestAnimationFrame(()=>{N.current=!0}),O.dispose},[]),M(()=>{if(u.comboboxState!==0||!I||!N.current||u.activationTrigger===0)return;let O=ce();return O.requestAnimationFrame(()=>{var D,c;(c=(D=p.current)==null?void 0:D.scrollIntoView)==null||c.call(D,{block:"nearest"})}),O.dispose},[p,I,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let F=x(O=>{if(i)return O.preventDefault();R(),u.mode===0&&g.closeCombobox()}),U=x(()=>{if(i)return g.goToOption(h.Nothing);g.goToOption(h.Specific,a)}),k=me(),A=x(O=>k.update(O)),$=x(O=>{!k.wasMoved(O)||i||I||g.goToOption(h.Specific,a,0)}),_=x(O=>{!k.wasMoved(O)||i||!I||u.optionsPropsRef.current.hold||g.goToOption(h.Nothing)}),m=l.useMemo(()=>({active:I,selected:t,disabled:i}),[I,t,i]);return j({ourProps:{id:a,ref:s,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":t,disabled:void 0,onClick:F,onFocus:U,onPointerEnter:A,onMouseEnter:A,onPointerMove:$,onMouseMove:$,onPointerLeave:_,onMouseLeave:_},theirProps:b,slot:m,defaultTag:He,name:"Combobox.Option"})}),z=Object.assign(Ve,{Input:je,Button:Ue,Label:ze,Options:Ge,Option:Qe});function Ye({title:e,titleId:n,...r},o){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:o,"aria-labelledby":n},r),e?l.createElement("title",{id:n},e):null,l.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"}))}const Je=l.forwardRef(Ye),Ze=Je;function eo({title:e,titleId:n,...r},o){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:o,"aria-labelledby":n},r),e?l.createElement("title",{id:n},e):null,l.createElement("path",{fillRule:"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.2a.75.75 0 011.06.04l2.7 2.908 2.7-2.908a.75.75 0 111.1 1.02l-3.25 3.5a.75.75 0 01-1.1 0l-3.25-3.5a.75.75 0 01.04-1.06z",clipRule:"evenodd"}))}const oo=l.forwardRef(eo),to=oo;function fo({ShouldMap:e,selected:n,tampilkanvalue:r="false",onChange:o,name:d}){const[a,i]=l.useState(""),C=a===""?e:e.filter(b=>b.name.toLowerCase().replace(/\s+/g,"").includes(a.toLowerCase().replace(/\s+/g,"")));return T("div",{className:"",children:T(z,{value:n,onChange:o,name:d,children:ee("div",{className:"relative mt-1",children:[ee("div",{className:"relative w-full overflow-hidden text-left bg-white border border-gray-300 rounded-md shadow-sm cursor-default focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300",children:[T(z.Input,{className:"w-full py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 break-words border-none focus:ring-0",autoComplete:"off",displayValue:b=>b.value?"("+b.value+") "+b.name:b.name,onChange:b=>i(b.target.value)}),T(z.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:T(to,{className:"w-5 h-5 text-gray-400","aria-hidden":"true"})})]}),T(Ee,{as:l.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>i(""),children:T(z.Options,{className:"absolute z-10 w-full py-1 mt-1 overflow-auto text-base break-words bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:C.length===0&&a!==""?T("div",{className:"relative px-4 py-2 text-gray-700 cursor-default select-none",children:"Nothing found."}):C.map(b=>T(z.Option,{className:({active:u})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${u?"bg-teal-600 text-white":"text-gray-900"}`,value:b,children:({selected:u,active:g})=>ee(fe,{children:[ee("span",{className:`block truncate ${u?"font-medium":"font-normal"}`,children:[b.value," ",b.name]}),u?T("span",{className:`absolute inset-y-0 left-0 flex items-center pl-3 ${g?"text-white":"text-teal-600"}`,children:T(Ze,{className:"w-5 h-5","aria-hidden":"true"})}):null]})},b.id))})})]})})})}export{fo as C,Ze as a,z as k};
