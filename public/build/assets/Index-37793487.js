import{r as s,l as j,g as z,j as t,F as U,a as e,n as V}from"./app-40227382.js";import{D as Q}from"./DangerButton-3e99067e.js";import{A as X}from"./App-682dd345.js";import{A as Z}from"./AddModal-2132627a.js";import{D as ee}from"./DestroyModal-3520a38a.js";import{E as B}from"./EditModal-5077c3c8.js";import ie from"./Edit-7143b9f9.js";import{T as h}from"./ThirdButton-4abae519.js";import ne from"./Create-31e6ac7d.js";import te from"./Edit-c438fe31.js";import{T as a,B as ae,P as oe}from"./Badge-39f5160c.js";import"./ApplicationLogo-1be1e8fe.js";import"./transition-28801c53.js";import"./render-66257b5b.js";import"./ComboboxPage-878696ae.js";import"./use-tracked-pointer-5a6dfe94.js";import"./keyboard-61a26669.js";import"./use-outside-click-09bb6113.js";import"./use-tree-walker-55160274.js";import"./use-controllable-2ece201f.js";import"./use-watch-f0387d0f.js";import"./dialog-35762c09.js";import"./description-bdba954c.js";import"./TextInput-70d63fd3.js";import"./ComboboxMultiple-7454ec32.js";import"./clsx-aaf5a234.js";import"./defineProperty-8250cd14.js";/* empty css                         */import"./ComboboxMultipleWithOutSemuaUnit-cfa411bf.js";import"./BPKP-0d5c6a87.js";import"./InputLabel-4fdd6287.js";import"./PrimaryButton-ce8a4982.js";import"./SecondaryButton-e376ea20.js";import"./index-c0c70693.js";import"./LarsDHPKlinis-0e5204a9.js";import"./LarsDHPNonKlinis-e1b41eed.js";import"./SedangTerjadi-42304446.js";import"./Form-2f706bfa.js";import"./InputError-0cf9554f.js";import"./TextAreaInput-919603c2.js";import"./ComboboxPageReadonly-2ed0bef2.js";import"./Form-48bc8ee1.js";const c=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),p=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})});function re(r){const{data:m,meta:T,filtered:P,attributes:g}=r.IkpPasien;let u={IkpJenisInsiden:r.IkpJenisInsiden,IkpTipeInsiden:r.IkpTipeInsiden,IkpSpesialisasi:r.IkpSpesialisasi,IkpDampak:r.IkpDampak,IkpProbabilitas:r.IkpProbabilitas,IkpPelapor:r.IkpPelapor,IkpGrupLayanan:r.IkpGrupLayanan,IkpPenanggung:r.IkpPenanggung,IkpLokasi:r.IkpLokasi,IkpPenindak:r.IkpPenindak,pics:r.pics,IkpTerjadiTempatLain:[{id:0,name:"Tidak"},{id:1,name:"Ya"}],JenisKelamin:[{id:1,name:"Laki - Laki"},{id:2,name:"Perempuan"}],IkpVerifikasi:[{id:0,name:"Tidak"},{id:1,name:"Ya"}],IkpInvestigasiLengkap:[{id:0,name:"Tidak"},{id:1,name:"Ya"}],IkpInvestigasiLanjut:[{id:0,name:"Tidak"},{id:1,name:"Ya"}]};const[O,R]=s.useState([]),[n,_]=s.useState(P),[H,K]=s.useState(!0),A=s.useCallback(j.debounce(i=>{z.get(route(route().current()),{...j.pickBy(i),page:i.page},{preserveState:!0,preserveScroll:!0})},150),[]);s.useEffect(()=>{H?K(!1):A(n)},[n]),s.useEffect(()=>{let i=[];for(let l=g.per_page;l<g.total/g.per_page;l=l+g.per_page)i.push(l);R(i)},[]);const y=i=>{const l={...n,[i.target.name]:i.target.value,page:1};_(l)},d=i=>{_({...n,field:i,direction:n.direction=="asc"?"desc":"asc"})},[o,M]=s.useState(null),[le,k]=s.useState(null),[D,f]=s.useState(!1),[C,w]=s.useState(!1),[N,v]=s.useState(!1),[F,b]=s.useState(!1),[I,x]=s.useState([]),J=()=>{f(!0)},W=i=>{M(o===i?null:i)},Y=i=>{x(i),k(i),w(!0)},G=i=>{x(i),k(i),b(!0)},$=()=>{z.delete(route("IkpPasien.destroy",I.id),{onSuccess:()=>b(!1)})},q=i=>{x(i),k(i),v(!0)};return t(U,{children:[e(V,{title:"IKP Form"}),e(Z,{isOpenAddDialog:D,setIsOpenAddDialog:f,size:"max-w-7xl",title:"Tambah IKP Form",children:e(ne,{ShouldMap:u,isOpenAddDialog:D,setIsOpenAddDialog:f})}),e(B,{isOpenEditDialog:C,setIsOpenEditDialog:w,size:"max-w-7xl",title:"Edit IKP Form",children:e(te,{model:I,ShouldMap:u,isOpenEditDialog:C,setIsOpenEditDialog:w})}),e(B,{isOpenEditDialog:N,setIsOpenEditDialog:v,size:"max-w-6xl",title:"Edit Hasil Investigasi",children:e(ie,{model:I,ShouldMap:u,isOpenEditDialog:N,setIsOpenEditDialog:v})}),e(ee,{isOpenDestroyDialog:F,setIsOpenDestroyDialog:b,size:"max-w-4xl",title:"Delete IKP Form",warning:"Yakin hapus data ini ?",children:e(Q,{className:"ml-2",onClick:$,children:"Delete"})}),e("div",{className:"px-2 py-12 bg-white border rounded-xl",children:t("div",{className:"mx-auto sm:px-6 lg:px-8",children:[t("div",{className:"flex items-center justify-between mb-2",children:[e("div",{className:"w-1/2",children:t("div",{className:"flex items-center justify-start mt-2 mb-0 gap-x-1",children:[t(h,{type:"button",color:"sky",onClick:J,children:["Tambah IKP",t("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 ml-2 icon icon-tabler icon-tabler-square-rounded-plus",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M9 12h6"}),e("path",{d:"M12 9v6"}),e("path",{d:"M12 3c7.2 0 9 1.8 9 9s-1.8 9 -9 9s-9 -1.8 -9 -9s1.8 -9 9 -9z"})]})]}),t(h,{color:o===null?"gray":"blue",type:"button",className:`${o===null?"cursor-not-allowed":""}`,onClick:()=>{if(o!==null){const i=m[o];Y(i)}},disabled:o===null,children:["Edit",t("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 ml-2 icon icon-tabler icon-tabler-edit",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"}),e("path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"}),e("path",{d:"M16 5l3 3"})]})]}),t(h,{color:o===null?"gray":"red",type:"button",className:`${o===null?"cursor-not-allowed":""}`,onClick:()=>{if(o!==null){const i=m[o];G(i)}},disabled:o===null,children:["Delete",t("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 ml-2 icon icon-tabler icon-tabler-trash",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M4 7l16 0"}),e("path",{d:"M10 11l0 6"}),e("path",{d:"M14 11l0 6"}),e("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),e("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})]}),t(h,{color:o===null?"gray":"yellow",type:"button",className:`${o===null?"cursor-not-allowed":""}`,onClick:()=>{if(o!==null){const i=m[o];q(i)}},disabled:o===null,children:["Hasil Investigasi",t("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 ml-2 icon icon-tabler icon-tabler-report-search",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M8 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h5.697"}),e("path",{d:"M18 12v-5a2 2 0 0 0 -2 -2h-2"}),e("path",{d:"M8 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"}),e("path",{d:"M8 11h4"}),e("path",{d:"M8 15h3"}),e("path",{d:"M16.5 17.5m-2.5 0a2.5 2.5 0 1 0 5 0a2.5 2.5 0 1 0 -5 0"}),e("path",{d:"M18.5 19.5l2.5 2.5"})]})]})]})}),e("div",{className:"w-1/2",children:t("div",{className:"flex items-center justify-end mt-2 mb-0 gap-x-1",children:[e("select",{name:"load",id:"load",onChange:y,value:n.load,className:"transition duration-150 ease-in-out border-gray-300 rounded-lg focus:ring-blue-200 focus:ring form-select",children:O.map((i,l)=>e("option",{children:i},l))}),t("div",{className:"flex items-center px-2 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg gap-x-2 focus-within:border-blue-400 focus-within:ring-blue-200 focus-within:ring",children:[e("svg",{className:"inline w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",autoComplete:"off",name:"q",id:"q",onChange:y,value:n.q,className:"w-full border-0 focus:ring-0 form-text"})]})]})})]}),t(a,{overflow:"none",children:[e(a.Thead,{children:t(a.Tr,{children:[e(a.Th,{children:"#"}),t(a.Th,{onClick:()=>d("tanggal_insiden"),children:["Tanggal Kejadian",n.field=="tanggal_insiden"&&n.direction=="asc"&&e(c,{}),n.field=="tanggal_insiden"&&n.direction=="desc"&&e(p,{})]}),t(a.Th,{onClick:()=>d("umur_tahun"),children:["Umur",n.field=="umur_tahun"&&n.direction=="asc"&&e(c,{}),n.field=="umur_tahun"&&n.direction=="desc"&&e(p,{})]}),t(a.Th,{onClick:()=>d("ikp_jenis_insiden_id"),children:["Jenis Insiden",n.field=="ikp_jenis_insiden_id"&&n.direction=="asc"&&e(c,{}),n.field=="ikp_jenis_insiden_id"&&n.direction=="desc"&&e(p,{})]}),t(a.Th,{onClick:()=>d("kronologi"),children:["Kronologis",n.field=="kronologi"&&n.direction=="asc"&&e(c,{}),n.field=="kronologi"&&n.direction=="desc"&&e(p,{})]}),t(a.Th,{onClick:()=>d("kronologi"),children:["Tanggal Registrasi Pasien",n.field=="kronologi"&&n.direction=="asc"&&e(c,{}),n.field=="kronologi"&&n.direction=="desc"&&e(p,{})]}),t(a.Th,{onClick:()=>d("ikp_penanggung_id"),children:["Penannggung Jawab Biaya",n.field=="ikp_penanggung_id"&&n.direction=="asc"&&e(c,{}),n.field=="ikp_penanggung_id"&&n.direction=="desc"&&e(p,{})]}),t(a.Th,{onClick:()=>d("concatdp"),children:["Grading",n.field=="concatdp"&&n.direction=="asc"&&e(c,{}),n.field=="concatdp"&&n.direction=="desc"&&e(p,{})]}),t(a.Th,{onClick:()=>d("concatdp2"),children:["Grading Setelah Investigasi",n.field=="concatdp2"&&n.direction=="asc"&&e(c,{}),n.field=="concatdp2"&&n.direction=="desc"&&e(p,{})]})]})}),e(a.Tbody,{children:m.map((i,l)=>{var E,L,S;return t("tr",{className:o===l?"bg-sky-100  cursor-pointer":i.riskgrading.name_ikp=="Ekstrim"?"cursor-pointer text-white bg-red-500":i.riskgrading.name_ikp=="Tinggi"?"cursor-pointer text-white bg-amber-500":i.riskgrading.name_ikp=="Moderat"?"cursor-pointer text-white bg-green-500":"cursor-pointer text-white bg-sky-500",onClick:()=>W(l),children:[e(a.Td,{children:e(ae,{children:T.from+l})}),e(a.Td,{children:i.tanggal_insiden}),e(a.Td,{className:"whitespace-nowrap",children:i.umur_tahun}),e(a.Td,{children:(E=i.jenis_insiden)==null?void 0:E.name}),e(a.Td,{children:i.kronologi}),e(a.Td,{children:i.tanggal_pelayanan}),e(a.Td,{children:(L=i.penanggung)==null?void 0:L.name}),e(a.Td,{children:(S=i.riskgrading)==null?void 0:S.name_ikp}),e(a.Td,{children:i.hasil_grading?i.hasil_grading.name_ikp:"Belum Investigasi"})]},l)})})]}),e(oe,{meta:T})]})})]})}re.layout=r=>e(X,{children:r});export{re as default};
