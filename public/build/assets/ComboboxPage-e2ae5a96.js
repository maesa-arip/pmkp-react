import{r as p,R as Z,a as $,j as ee,F as fe}from"./app-c16facc7.js";import{C as me,a as ve}from"./index-4cd94609.js";import{i as re,u as xe,a as h,x as ge}from"./use-tracked-pointer-facf5425.js";import{V as B,j as se,y as X,p as ae,o as x,X as K,l as N,s as Re,u as V,P as Oe,m as ce}from"./render-caba555b.js";import{I as G,h as Ce,s as he,o as y,r as Ie,A as Se}from"./keyboard-5b6ec9fe.js";import{L as ye}from"./use-outside-click-cb40d2bb.js";import{s as Pe}from"./use-resolve-button-type-fefed35d.js";import{F as Te}from"./use-tree-walker-7805a025.js";import{T as $e,e as we}from"./use-controllable-c2a49b00.js";import{s as Ee,p as ne,C as ke,K as Fe}from"./transition-b189ca49.js";import{m as de}from"./use-watch-f2f6a750.js";var De=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(De||{}),Le=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Le||{}),Ne=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ne||{}),Me=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e))(Me||{});function te(e,r=i=>i){let i=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,t=Se(r(e.options.slice()),n=>n.dataRef.current.domRef.current),c=i?t.indexOf(i):null;return c===-1&&(c=null),{options:t,activeOptionIndex:c}}let Ae={1(e){return e.dataRef.current.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},0(e){if(e.dataRef.current.disabled||e.comboboxState===0)return e;let r=e.activeOptionIndex,{isSelected:i}=e.dataRef.current,t=e.options.findIndex(c=>i(c.dataRef.current.value));return t!==-1&&(r=t),{...e,comboboxState:0,activeOptionIndex:r}},2(e,r){var i;if(e.dataRef.current.disabled||e.dataRef.current.optionsRef.current&&!e.dataRef.current.optionsPropsRef.current.static&&e.comboboxState===1)return e;let t=te(e);if(t.activeOptionIndex===null){let n=t.options.findIndex(a=>!a.dataRef.current.disabled);n!==-1&&(t.activeOptionIndex=n)}let c=ge(r,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:n=>n.id,resolveDisabled:n=>n.dataRef.current.disabled});return{...e,...t,activeOptionIndex:c,activationTrigger:(i=r.trigger)!=null?i:1}},3:(e,r)=>{let i={id:r.id,dataRef:r.dataRef},t=te(e,n=>[...n,i]);e.activeOptionIndex===null&&e.dataRef.current.isSelected(r.dataRef.current.value)&&(t.activeOptionIndex=t.options.indexOf(i));let c={...e,...t,activationTrigger:1};return e.dataRef.current.__demoMode&&e.dataRef.current.value===void 0&&(c.activeOptionIndex=0),c},4:(e,r)=>{let i=te(e,t=>{let c=t.findIndex(n=>n.id===r.id);return c!==-1&&t.splice(c,1),t});return{...e,...i,activationTrigger:1}},5:(e,r)=>({...e,labelId:r.id})},ie=p.createContext(null);ie.displayName="ComboboxActionsContext";function H(e){let r=p.useContext(ie);if(r===null){let i=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,H),i}return r}let le=p.createContext(null);le.displayName="ComboboxDataContext";function j(e){let r=p.useContext(le);if(r===null){let i=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,j),i}return r}function _e(e,r){return V(r.type,Ae,e,r)}let Ve=p.Fragment;function Be(e,r){let{value:i,defaultValue:t,onChange:c,name:n,by:a=(f,v)=>f===v,disabled:O=!1,__demoMode:b=!1,nullable:l=!1,multiple:g=!1,...I}=e,[o=g?[]:void 0,d]=$e(i,c,t),[S,u]=p.useReducer(_e,{dataRef:p.createRef(),comboboxState:b?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),R=p.useRef(!1),M=p.useRef({static:!1,hold:!1}),k=p.useRef(null),U=p.useRef(null),F=p.useRef(null),A=p.useRef(null),w=x(typeof a=="string"?(f,v)=>{let P=a;return(f==null?void 0:f[P])===(v==null?void 0:v[P])}:a),_=p.useCallback(f=>V(m.mode,{1:()=>o.some(v=>w(v,f)),0:()=>w(o,f)}),[o]),m=p.useMemo(()=>({...S,optionsPropsRef:M,labelRef:k,inputRef:U,buttonRef:F,optionsRef:A,value:o,defaultValue:t,disabled:O,mode:g?1:0,get activeOptionIndex(){if(R.current&&S.activeOptionIndex===null&&S.options.length>0){let f=S.options.findIndex(v=>!v.dataRef.current.disabled);if(f!==-1)return f}return S.activeOptionIndex},compare:w,isSelected:_,nullable:l,__demoMode:b}),[o,t,O,g,l,b,S]);N(()=>{S.dataRef.current=m},[m]),ye([m.buttonRef,m.inputRef,m.optionsRef],()=>oe.closeCombobox(),m.comboboxState===0);let C=p.useMemo(()=>({open:m.comboboxState===0,disabled:O,activeIndex:m.activeOptionIndex,activeOption:m.activeOptionIndex===null?null:m.options[m.activeOptionIndex].dataRef.current.value,value:o}),[m,O,o]),D=x(f=>{let v=m.options.find(P=>P.id===f);!v||E(v.dataRef.current.value)}),s=x(()=>{if(m.activeOptionIndex!==null){let{dataRef:f,id:v}=m.options[m.activeOptionIndex];E(f.current.value),oe.goToOption(h.Specific,v)}}),L=x(()=>{u({type:0}),R.current=!0}),T=x(()=>{u({type:1}),R.current=!1}),q=x((f,v,P)=>(R.current=!1,f===h.Specific?u({type:2,focus:h.Specific,id:v,trigger:P}):u({type:2,focus:f,trigger:P}))),Q=x((f,v)=>(u({type:3,id:f,dataRef:v}),()=>u({type:4,id:f}))),Y=x(f=>(u({type:5,id:f}),()=>u({type:5,id:null}))),E=x(f=>V(m.mode,{0(){return d==null?void 0:d(f)},1(){let v=m.value.slice(),P=v.findIndex(J=>w(J,f));return P===-1?v.push(f):v.splice(P,1),d==null?void 0:d(v)}})),oe=p.useMemo(()=>({onChange:E,registerOption:Q,registerLabel:Y,goToOption:q,closeCombobox:T,openCombobox:L,selectActiveOption:s,selectOption:D}),[]),pe=r===null?{}:{ref:r},z=p.useRef(null),be=ae();return p.useEffect(()=>{!z.current||t!==void 0&&be.addEventListener(z.current,"reset",()=>{E(t)})},[z,E]),Z.createElement(ie.Provider,{value:oe},Z.createElement(le.Provider,{value:m},Z.createElement(ke,{value:V(m.comboboxState,{0:ne.Open,1:ne.Closed})},n!=null&&o!=null&&we({[n]:o}).map(([f,v],P)=>Z.createElement(Ce,{features:he.Hidden,ref:P===0?J=>{var ue;z.current=(ue=J==null?void 0:J.closest("form"))!=null?ue:null}:void 0,...Oe({key:f,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:f,value:v})})),K({ourProps:pe,theirProps:I,slot:C,defaultTag:Ve,name:"Combobox"}))))}let Ke=B(Be),je="input",Ue=B(function(e,r){var i,t,c,n;let a=G(),{id:O=`headlessui-combobox-input-${a}`,onChange:b,displayValue:l,type:g="text",...I}=e,o=j("Combobox.Input"),d=H("Combobox.Input"),S=X(o.inputRef,r),u=p.useRef(!1),R=ae(),M=function(){var s;return typeof l=="function"&&o.value!==void 0?(s=l(o.value))!=null?s:"":typeof o.value=="string"?o.value:""}();de(([s,L],[T,q])=>{u.current||!o.inputRef.current||(q===0&&L===1||s!==T)&&(o.inputRef.current.value=s)},[M,o.comboboxState]),de(([s],[L])=>{if(s===0&&L===1){let T=o.inputRef.current;if(!T)return;let q=T.value,{selectionStart:Q,selectionEnd:Y,selectionDirection:E}=T;T.value="",T.value=q,E!==null?T.setSelectionRange(Q,Y,E):T.setSelectionRange(Q,Y)}},[o.comboboxState]);let k=p.useRef(!1),U=x(()=>{k.current=!0}),F=x(()=>{setTimeout(()=>{k.current=!1})}),A=x(s=>{switch(u.current=!0,s.key){case y.Backspace:case y.Delete:if(o.mode!==0||!o.nullable)return;let L=s.currentTarget;R.requestAnimationFrame(()=>{L.value===""&&(d.onChange(null),o.optionsRef.current&&(o.optionsRef.current.scrollTop=0),d.goToOption(h.Nothing))});break;case y.Enter:if(u.current=!1,o.comboboxState!==0||k.current)return;if(s.preventDefault(),s.stopPropagation(),o.activeOptionIndex===null){d.closeCombobox();return}d.selectActiveOption(),o.mode===0&&d.closeCombobox();break;case y.ArrowDown:return u.current=!1,s.preventDefault(),s.stopPropagation(),V(o.comboboxState,{0:()=>{d.goToOption(h.Next)},1:()=>{d.openCombobox()}});case y.ArrowUp:return u.current=!1,s.preventDefault(),s.stopPropagation(),V(o.comboboxState,{0:()=>{d.goToOption(h.Previous)},1:()=>{d.openCombobox(),R.nextFrame(()=>{o.value||d.goToOption(h.Last)})}});case y.Home:if(s.shiftKey)break;return u.current=!1,s.preventDefault(),s.stopPropagation(),d.goToOption(h.First);case y.PageUp:return u.current=!1,s.preventDefault(),s.stopPropagation(),d.goToOption(h.First);case y.End:if(s.shiftKey)break;return u.current=!1,s.preventDefault(),s.stopPropagation(),d.goToOption(h.Last);case y.PageDown:return u.current=!1,s.preventDefault(),s.stopPropagation(),d.goToOption(h.Last);case y.Escape:return u.current=!1,o.comboboxState!==0?void 0:(s.preventDefault(),o.optionsRef.current&&!o.optionsPropsRef.current.static&&s.stopPropagation(),d.closeCombobox());case y.Tab:if(u.current=!1,o.comboboxState!==0)return;o.mode===0&&d.selectActiveOption(),d.closeCombobox();break}}),w=x(s=>{d.openCombobox(),b==null||b(s)}),_=x(()=>{u.current=!1}),m=re(()=>{if(o.labelId)return[o.labelId].join(" ")},[o.labelId]),C=p.useMemo(()=>({open:o.comboboxState===0,disabled:o.disabled}),[o]),D={ref:S,id:O,role:"combobox",type:g,"aria-controls":(i=o.optionsRef.current)==null?void 0:i.id,"aria-expanded":o.disabled?void 0:o.comboboxState===0,"aria-activedescendant":o.activeOptionIndex===null||(t=o.options[o.activeOptionIndex])==null?void 0:t.id,"aria-multiselectable":o.mode===1?!0:void 0,"aria-labelledby":m,"aria-autocomplete":"list",defaultValue:(n=(c=e.defaultValue)!=null?c:o.defaultValue!==void 0?l==null?void 0:l(o.defaultValue):null)!=null?n:o.defaultValue,disabled:o.disabled,onCompositionStart:U,onCompositionEnd:F,onKeyDown:A,onChange:w,onBlur:_};return K({ourProps:D,theirProps:I,slot:C,defaultTag:je,name:"Combobox.Input"})}),qe="button",We=B(function(e,r){var i;let t=j("Combobox.Button"),c=H("Combobox.Button"),n=X(t.buttonRef,r),a=G(),{id:O=`headlessui-combobox-button-${a}`,...b}=e,l=ae(),g=x(u=>{switch(u.key){case y.ArrowDown:return u.preventDefault(),u.stopPropagation(),t.comboboxState===1&&c.openCombobox(),l.nextFrame(()=>{var R;return(R=t.inputRef.current)==null?void 0:R.focus({preventScroll:!0})});case y.ArrowUp:return u.preventDefault(),u.stopPropagation(),t.comboboxState===1&&(c.openCombobox(),l.nextFrame(()=>{t.value||c.goToOption(h.Last)})),l.nextFrame(()=>{var R;return(R=t.inputRef.current)==null?void 0:R.focus({preventScroll:!0})});case y.Escape:return t.comboboxState!==0?void 0:(u.preventDefault(),t.optionsRef.current&&!t.optionsPropsRef.current.static&&u.stopPropagation(),c.closeCombobox(),l.nextFrame(()=>{var R;return(R=t.inputRef.current)==null?void 0:R.focus({preventScroll:!0})}));default:return}}),I=x(u=>{if(Ie(u.currentTarget))return u.preventDefault();t.comboboxState===0?c.closeCombobox():(u.preventDefault(),c.openCombobox()),l.nextFrame(()=>{var R;return(R=t.inputRef.current)==null?void 0:R.focus({preventScroll:!0})})}),o=re(()=>{if(t.labelId)return[t.labelId,O].join(" ")},[t.labelId,O]),d=p.useMemo(()=>({open:t.comboboxState===0,disabled:t.disabled,value:t.value}),[t]),S={ref:n,id:O,type:Pe(e,t.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(i=t.optionsRef.current)==null?void 0:i.id,"aria-expanded":t.disabled?void 0:t.comboboxState===0,"aria-labelledby":o,disabled:t.disabled,onClick:I,onKeyDown:g};return K({ourProps:S,theirProps:b,slot:d,defaultTag:qe,name:"Combobox.Button"})}),Xe="label",Ge=B(function(e,r){let i=G(),{id:t=`headlessui-combobox-label-${i}`,...c}=e,n=j("Combobox.Label"),a=H("Combobox.Label"),O=X(n.labelRef,r);N(()=>a.registerLabel(t),[t]);let b=x(()=>{var g;return(g=n.inputRef.current)==null?void 0:g.focus({preventScroll:!0})}),l=p.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled}),[n]);return K({ourProps:{ref:O,id:t,onClick:b},theirProps:c,slot:l,defaultTag:Xe,name:"Combobox.Label"})}),He="ul",Qe=se.RenderStrategy|se.Static,Ye=B(function(e,r){let i=G(),{id:t=`headlessui-combobox-options-${i}`,hold:c=!1,...n}=e,a=j("Combobox.Options"),O=X(a.optionsRef,r),b=Ee(),l=(()=>b!==null?b===ne.Open:a.comboboxState===0)();N(()=>{var o;a.optionsPropsRef.current.static=(o=e.static)!=null?o:!1},[a.optionsPropsRef,e.static]),N(()=>{a.optionsPropsRef.current.hold=c},[a.optionsPropsRef,c]),Te({container:a.optionsRef.current,enabled:a.comboboxState===0,accept(o){return o.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:o.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(o){o.setAttribute("role","none")}});let g=re(()=>{var o,d;return(d=a.labelId)!=null?d:(o=a.buttonRef.current)==null?void 0:o.id},[a.labelId,a.buttonRef.current]),I=p.useMemo(()=>({open:a.comboboxState===0}),[a]);return K({ourProps:{"aria-labelledby":g,role:"listbox",id:t,ref:O},theirProps:n,slot:I,defaultTag:He,features:Qe,visible:l,name:"Combobox.Options"})}),ze="li",Je=B(function(e,r){var i,t;let c=G(),{id:n=`headlessui-combobox-option-${c}`,disabled:a=!1,value:O,...b}=e,l=j("Combobox.Option"),g=H("Combobox.Option"),I=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===n:!1,o=l.isSelected(O),d=p.useRef(null),S=Re({disabled:a,value:O,domRef:d,textValue:(t=(i=d.current)==null?void 0:i.textContent)==null?void 0:t.toLowerCase()}),u=X(r,d),R=x(()=>g.selectOption(n));N(()=>g.registerOption(n,S),[S,n]);let M=p.useRef(!l.__demoMode);N(()=>{if(!l.__demoMode)return;let C=ce();return C.requestAnimationFrame(()=>{M.current=!0}),C.dispose},[]),N(()=>{if(l.comboboxState!==0||!I||!M.current||l.activationTrigger===0)return;let C=ce();return C.requestAnimationFrame(()=>{var D,s;(s=(D=d.current)==null?void 0:D.scrollIntoView)==null||s.call(D,{block:"nearest"})}),C.dispose},[d,I,l.comboboxState,l.activationTrigger,l.activeOptionIndex]);let k=x(C=>{if(a)return C.preventDefault();R(),l.mode===0&&g.closeCombobox()}),U=x(()=>{if(a)return g.goToOption(h.Nothing);g.goToOption(h.Specific,n)}),F=xe(),A=x(C=>F.update(C)),w=x(C=>{!F.wasMoved(C)||a||I||g.goToOption(h.Specific,n,0)}),_=x(C=>{!F.wasMoved(C)||a||!I||l.optionsPropsRef.current.hold||g.goToOption(h.Nothing)}),m=p.useMemo(()=>({active:I,selected:o,disabled:a}),[I,o,a]);return K({ourProps:{id:n,ref:u,role:"option",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-selected":o,disabled:void 0,onClick:k,onFocus:U,onPointerEnter:A,onMouseEnter:A,onPointerMove:w,onMouseMove:w,onPointerLeave:_,onMouseLeave:_},theirProps:b,slot:m,defaultTag:ze,name:"Combobox.Option"})}),W=Object.assign(Ke,{Input:Ue,Button:We,Label:Ge,Options:Ye,Option:Je});function co({ShouldMap:e,selected:r,tampilkanvalue:i="false",onChange:t,name:c}){const[n,a]=p.useState(""),O=n===""?e:e.filter(b=>b.name.toLowerCase().replace(/\s+/g,"").includes(n.toLowerCase().replace(/\s+/g,"")));return $("div",{className:"",children:$(W,{value:r,onChange:t,name:c,children:ee("div",{className:"relative mt-1",children:[ee("div",{className:"relative w-full overflow-hidden text-left bg-white border border-gray-300 rounded-md shadow-sm cursor-default focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300",children:[$(W.Input,{className:"w-full py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 break-words border-none focus:ring-0",autoComplete:"off",displayValue:b=>b.value?"("+b.value+") "+b.name:b.name,onChange:b=>a(b.target.value)}),$(W.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:$(me,{className:"w-5 h-5 text-gray-400","aria-hidden":"true"})})]}),$(Fe,{as:p.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>a(""),children:$(W.Options,{className:"absolute z-10 w-full py-1 mt-1 overflow-auto text-base break-words bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:O.length===0&&n!==""?$("div",{className:"relative px-4 py-2 text-gray-700 cursor-default select-none",children:"Nothing found."}):O.map(b=>$(W.Option,{className:({active:l})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${l?"bg-teal-600 text-white":"text-gray-900"}`,value:b,children:({selected:l,active:g})=>ee(fe,{children:[ee("span",{className:`block truncate ${l?"font-medium":"font-normal"}`,children:[b.value," ",b.name]}),l?$("span",{className:`absolute inset-y-0 left-0 flex items-center pl-3 ${g?"text-white":"text-teal-600"}`,children:$(ve,{className:"w-5 h-5","aria-hidden":"true"})}):null]})},b.id))})})]})})})}export{co as C,W as k};
