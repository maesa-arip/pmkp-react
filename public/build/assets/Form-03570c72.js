import{r as p,_ as V,j as i,F as K,a}from"./app-57abeb7f.js";import{C as k}from"./ComboboxPage-94a3c038.js";import{I as g}from"./InputError-2875e4e2.js";import{I as l}from"./InputLabel-3abb9057.js";import{P as B}from"./PrimaryButton-d928be8d.js";import{S as A}from"./SecondaryButton-fc8ffef9.js";import{T as u}from"./TextAreaInput-24f6b289.js";import{T as r}from"./TextInput-ca6ef7c6.js";import"./ComboboxMultiple-6a1ccb7b.js";import{C as b}from"./ComboboxPageReadonly-bb7a4961.js";import"./index-096dd8d1.js";import"./use-tracked-pointer-49162435.js";import"./render-03fd2506.js";import"./keyboard-fa766a3d.js";import"./use-outside-click-442a3422.js";import"./use-tree-walker-df042132.js";import"./use-controllable-d69111b2.js";import"./transition-93ae57c5.js";import"./use-watch-403218a7.js";import"./clsx-0d537405.js";import"./defineProperty-8250cd14.js";function da({errors:n,submit:h,data:s,setData:t,closeButton:f,ShouldMap:m,model:c}){p.useState(null);const o=[{name:""}];(s.pic_id?s.pic_id:",").replace(/['"]+/g,"").split(",").map(e=>e.toString());const{auth:H,permissionNames:v}=V().props,_=v?v.map(e=>e.name):"null",[N,I]=p.useState(()=>c?m.IkpInvestigasiLengkap.find(e=>{var d;return e.id===((d=c.ikp_hasil)==null?void 0:d.verifikasi)}):o[0]),[y,j]=p.useState(()=>c?m.IkpInvestigasiLengkap.find(e=>{var d;return e.id===((d=c.ikp_hasil)==null?void 0:d.investigasi_lengkap)}):o[0]),[x,P]=p.useState(()=>c?m.IkpInvestigasiLanjut.find(e=>{var d;return e.id===((d=c.ikp_hasil)==null?void 0:d.investigasi_lanjut)}):o[0]),[C,O]=p.useState(()=>c?m.IkpDampak.find(e=>e.id===c.ikp_dampak_id):o[0]),[w,U]=p.useState(()=>c?m.IkpProbabilitas.find(e=>e.id===c.ikp_probabilitas_id):o[0]),[S,L]=p.useState(()=>c?m.IkpDampak.find(e=>{var d;return e.id===((d=c.ikp_hasil)==null?void 0:d.ikp_dampak2_id)}):o[0]),[T,F]=p.useState(()=>c?m.IkpProbabilitas.find(e=>{var d;return e.id===((d=c.ikp_hasil)==null?void 0:d.ikp_probabilitas2_id)}):o[0]);return i(K,{children:[i("div",{className:"px-4 py-5 bg-white sm:p-6",children:[a("div",{className:"grid grid-cols-12 gap-6",children:i("div",{className:"col-span-12 p-6 my-6 border-4 border-gray-200 rounded-lg ",children:[a("label",{htmlFor:"",className:"block mb-4 text-lg font-bold text-gray-700 ",children:"Data IKP"}),i("div",{className:"grid grid-cols-12 gap-6",children:[i("div",{className:"col-span-6",children:[a(l,{for:"Dampak",value:"Dampak Insiden Terhadap Pasien"}),a(b,{ShouldMap:m.IkpDampak,selected:C})]}),i("div",{className:"col-span-6",children:[a(l,{for:"Probabilitas",value:"Probabilitas"}),a(b,{ShouldMap:m.IkpProbabilitas,selected:w})]})]})]})}),a("div",{className:"grid grid-cols-12 gap-6",children:i("div",{className:"col-span-12 p-6 my-6 border-4 rounded-lg border-cyan-200 ",children:[a("label",{htmlFor:"",className:"block mb-4 text-lg font-bold text-gray-700 ",children:"Hasil Investigasi (Wajib di Input)"}),i("div",{className:"grid grid-cols-12 gap-6",children:[i("div",{className:"col-span-12",children:[a(l,{for:"penyebab",value:"Penyebab Langsung Insiden :"}),a(u,{id:"penyebab",value:s.penyebab,handleChange:e=>t("penyebab",e.target.value),rows:5,type:"text",className:"block w-full mt-1"}),a(g,{message:n.penyebab,className:"mt-2"})]}),i("div",{className:"col-span-12",children:[a(l,{for:"akarmasalah",value:"Penyebab yang melatar belakangi/akar masalah insiden :"}),a(u,{id:"akarmasalah",value:s.akarmasalah,handleChange:e=>t("akarmasalah",e.target.value),rows:5,type:"text",className:"block w-full mt-1"}),a(g,{message:n.akarmasalah,className:"mt-2"})]}),i("div",{className:"col-span-4",children:[a(l,{for:"rekomendasi",value:"Rekomendasi"}),a(r,{id:"rekomendasi",value:s.rekomendasi,handleChange:e=>t("rekomendasi",e.target.value),type:"text",className:"block w-full mt-1"}),a(g,{message:n.rekomendasi,className:"mt-2"})]}),i("div",{className:"col-span-4",children:[a(l,{for:"pj1",value:"Penanggung Jawab"}),a(r,{id:"pj1",value:s.pj1,handleChange:e=>t("pj1",e.target.value),type:"text",className:"block w-full mt-1"}),a(g,{message:n.pj1,className:"mt-2"})]}),i("div",{className:"col-span-4",children:[a(l,{for:"tanggal_rekomendasi",value:"Tanggal"}),a(r,{id:"tanggal_rekomendasi",value:s.tanggal_rekomendasi,handleChange:e=>t("tanggal_rekomendasi",e.target.value),type:"date",className:"block w-full mt-1"}),a(g,{message:n.tanggal_rekomendasi,className:"mt-2"})]}),i("div",{className:"col-span-4",children:[a(l,{for:"tindakan",value:"Tindakan yang akan dilakukan"}),a(r,{id:"tindakan",value:s.tindakan,handleChange:e=>t("tindakan",e.target.value),type:"text",className:"block w-full mt-1"}),a(g,{message:n.tindakan,className:"mt-2"})]}),i("div",{className:"col-span-4",children:[a(l,{for:"pj2",value:"Penanggung Jawab"}),a(r,{id:"pj2",value:s.pj2,handleChange:e=>t("pj2",e.target.value),type:"text",className:"block w-full mt-1"}),a(g,{message:n.pj2,className:"mt-2"})]}),i("div",{className:"col-span-6",children:[a(l,{for:"nama",value:"Nama Manajer/Kepala Bagian/Kepala Unit"}),a(r,{id:"nama",value:s.nama,handleChange:e=>t("nama",e.target.value),type:"text",className:"block w-full mt-1"}),a(g,{message:n.nama,className:"mt-2"})]}),i("div",{className:"col-span-6",children:[a(l,{for:"tanggal_mulai_investigasi",value:"Tanggal mulai Investigasi"}),a(r,{id:"tanggal_mulai_investigasi",value:s.tanggal_mulai_investigasi,handleChange:e=>t("tanggal_mulai_investigasi",e.target.value),type:"date",className:"block w-full mt-1"}),a(g,{message:n.tanggal_mulai_investigasi,className:"mt-2"})]}),i("div",{className:"col-span-6",children:[a(l,{for:"IkpVerifikasi",value:"Verifikasi"}),a(k,{ShouldMap:m.IkpVerifikasi,selected:N,onChange:e=>{t({...s,verifikasi:e.id}),I(e)}}),a(g,{message:n.verifikasi,className:"mt-2"})]}),i("div",{className:"col-span-6",children:[a(l,{for:"tanggal_selesaii_investigasi",value:"Tanggal Selesai Investigasi"}),a(r,{id:"tanggal_selesaii_investigasi",value:s.tanggal_selesaii_investigasi,handleChange:e=>t("tanggal_selesaii_investigasi",e.target.value),type:"date",className:"block w-full mt-1"}),a(g,{message:n.tanggal_selesaii_investigasi,className:"mt-2"})]}),i("div",{className:"col-span-6",children:[a(l,{for:"IkpInvestigasiLengkap",value:"Investigasi lengkap:"}),a(k,{ShouldMap:m.IkpInvestigasiLengkap,selected:y,onChange:e=>{t({...s,investigasi_lengkap:e.id}),j(e)}}),a(g,{message:n.investigasi_lengkap,className:"mt-2"})]}),i("div",{className:"col-span-6",children:[a(l,{for:"tanggal_investigasi",value:"Tanggal Investigasi"}),a(r,{id:"tanggal_investigasi",value:s.tanggal_investigasi,handleChange:e=>t("tanggal_investigasi",e.target.value),type:"date",className:"block w-full mt-1"}),a(g,{message:n.tanggal_investigasi,className:"mt-2"})]}),i("div",{className:"col-span-6",children:[a(l,{for:"IkpInvestigasiLanjut",value:"Diperlukan Investigasi lebih lanjut:"}),a(k,{ShouldMap:m.IkpInvestigasiLanjut,selected:x,onChange:e=>{t({...s,investigasi_lanjut:e.id}),P(e)}}),a(g,{message:n.investigasi_lanjut,className:"mt-2"})]}),a("div",{className:"col-span-6"})]})]})}),_.indexOf("regrading data ikp")>-1&&a("div",{className:"grid grid-cols-12 gap-6",children:i("div",{className:"col-span-12 p-6 my-6 border-4 rounded-lg border-sky-200 ",children:[a("label",{htmlFor:"",className:"block mb-4 text-lg font-bold text-gray-700 ",children:"Admin IKP"}),i("div",{className:"grid grid-cols-12 gap-6",children:[i("div",{className:"col-span-4",children:[a(l,{for:"tanggal_cek",value:"Tanggal Cek Keruangan"}),a(r,{id:"tanggal_cek",value:s.tanggal_cek,handleChange:e=>t("tanggal_cek",e.target.value),type:"date",className:"block w-full mt-1"}),a(g,{message:n.tanggal_cek,className:"mt-2"})]}),i("div",{className:"col-span-12",children:[a(l,{for:"tindak_lanjut",value:"Tindak Lanjut :"}),a(u,{id:"tindak_lanjut",value:s.tindak_lanjut,handleChange:e=>t("tindak_lanjut",e.target.value),rows:5,type:"text",className:"block w-full mt-1"}),a(g,{message:n.tindak_lanjut,className:"mt-2"})]}),i("div",{className:"col-span-6",children:[a(l,{for:"Dampak",value:"Dampak Insiden Terhadap Pasien"}),a(k,{ShouldMap:m.IkpDampak,selected:S,onChange:e=>{t({...s,ikp_dampak2_id:e.id}),L(e)}}),a(g,{message:n.ikp_dampak2_id,className:"mt-2"})]}),i("div",{className:"col-span-6",children:[a(l,{for:"Probabilitas",value:"Probabilitas"}),a(k,{ShouldMap:m.IkpProbabilitas,selected:T,onChange:e=>{t({...s,ikp_probabilitas2_id:e.id}),F(e)}}),a(g,{message:n.ikp_probabilitas2_id,className:"mt-2"})]})]})]})})]}),i("div",{className:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[a(B,{children:h}),a(A,{className:"mx-2",onClick:f,children:"Batal"})]})]})}export{da as default};
