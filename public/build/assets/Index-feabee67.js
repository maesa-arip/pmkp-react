import{_ as U,r as o,l as O,g as C,j as i,F as c,a as e,n as ee}from"./app-77c78180.js";import{D as te}from"./DangerButton-8f98f9a2.js";import{E as z,D as S,A as re}from"./App-b6c92156.js";import{A as ae}from"./AddModal-cf97e532.js";import{D as ie}from"./DestroyModal-813523e2.js";import{E as B}from"./EditModal-79c54bf5.js";import{T as y}from"./ThirdButton-07d8e1e0.js";import oe from"./Create-5c05a546.js";import ne from"./Edit-8a697c83.js";import{T as r,B as p,P as de}from"./Badge-33012ceb.js";import{h as le}from"./moment-fbc5633a.js";import se from"./Edit-379731fc.js";import ce from"./PDSA-ee6afda6.js";import pe from"./MutuIndikator-387079d3.js";import"./ApplicationLogo-00d18935.js";import"./transition-9c6f9305.js";import"./render-32442a14.js";import"./index-d801b066.js";import"./use-tracked-pointer-0e9ddbd9.js";import"./keyboard-07de174a.js";import"./use-outside-click-a5ea58a4.js";import"./use-tree-walker-f16b852f.js";import"./use-controllable-7f85197e.js";import"./use-watch-377effaa.js";import"./dialog-a74a907b.js";import"./description-75c3bc92.js";import"./TextInput-e21f7f24.js";import"./ComboboxMultiple-36171e81.js";import"./clsx-1a177155.js";import"./inheritsLoose-c4a937f7.js";import"./createClass-1dd8160f.js";import"./defineProperty-741a9c8e.js";/* empty css                         */import"./ComboboxMultipleWithOutSemuaUnit-05d6b827.js";import"./BPKP-c421caa5.js";import"./InputLabel-af26def7.js";import"./PrimaryButton-7334f37f.js";import"./SecondaryButton-a06cff5e.js";import"./index-6c8e55ef.js";import"./ComboboxMultiple copy-62958ce0.js";import"./ComboboxPage-daac4a17.js";import"./LarsDHPKlinis-c63134e0.js";import"./LarsDHPNonKlinis-91ffb6ef.js";import"./SedangTerjadi-c3c4ecef.js";import"./IKPDataInsiden-8f172289.js";import"./IKPDataEvaluasi-7d6684f7.js";import"./Form-53d60e2b.js";import"./InputError-9dd0c90a.js";import"./Form-66a8cdda.js";import"./TextAreaInput-3e7ef11b.js";import"./TextInputWithError-c085f0bd.js";const m=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),u=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})});function me(d){const{data:F,meta:T,filtered:j,attributes:l}=d.MutuUnit;let h={MutuIndikator:d.MutuIndikator,IndikatorFitur4:d.IndikatorFitur4,IndikatorBaru:[{id:0,name:"Tidak"},{id:1,name:"Ya"}]};const{auth:E}=U().props,[R,Y]=o.useState([]),[a,v]=o.useState(j),[L,q]=o.useState(!0),$=o.useCallback(O.debounce(t=>{C.get(route(route().current()),{...O.pickBy(t),page:t.page},{preserveState:!0,preserveScroll:!0})},150),[]);o.useEffect(()=>{L?q(!1):$(a)},[a]),o.useEffect(()=>{let t=[];for(let n=l.per_page;n<l.total/l.per_page;n=n+l.per_page)t.push(n);Y(t)},[]);const I=t=>{const n={...a,[t.target.name]:t.target.value,page:1};v(n)},s=t=>{v({...a,field:t,direction:a.direction=="asc"?"desc":"asc"})},H=()=>{g(!0)},K=t=>{_(t),f(!0)},W=t=>{_(t),k(!0)},G=t=>{_(t),x(!0)},J=()=>{C.delete(route("MutuUnit.destroy",w.id),{onSuccess:()=>x(!1)})},[N,g]=o.useState(!1),[P,f]=o.useState(!1),[Q,x]=o.useState(!1),[A,k]=o.useState(!1),[w,_]=o.useState([]),[V,D]=o.useState(!1),X=()=>{D(!0)},[Z,b]=o.useState(!1),M=()=>{b(!0)};return i(c,{children:[e(ee,{title:"Mutu Unit"}),e(ae,{isOpenAddDialog:N,setIsOpenAddDialog:g,size:"max-w-4xl",title:"Tambah Mutu Unit",children:e(oe,{ShouldMap:h,isOpenAddDialog:N,setIsOpenAddDialog:g})}),e(B,{isOpenEditDialog:P,setIsOpenEditDialog:f,size:"max-w-4xl",title:"Edit Mutu Unit",children:e(ne,{ShouldMap:h,model:w,isOpenEditDialog:P,setIsOpenEditDialog:f})}),e(B,{isOpenEditDialog:A,setIsOpenEditDialog:k,size:"max-w-6xl",title:"Edit Formulir PDSA Mutu Unit",children:e(se,{model:w,ShouldMap:h,isOpenEditDialog:A,setIsOpenEditDialog:k})}),e(z,{isOpenExportDialog:V,setIsOpenExportDialog:D,size:"max-w-4xl",title:"Pilihan Export PDSA "+E.user.name,children:e(ce,{setIsOpenAddDialog:D})}),e(z,{isOpenExportDialog:Z,setIsOpenExportDialog:b,size:"max-w-4xl",title:"Pilihan Export Indikator  Mutu "+E.user.name,children:e(pe,{setIsOpenAddDialog:b})}),e(ie,{isOpenDestroyDialog:Q,setIsOpenDestroyDialog:x,size:"max-w-4xl",title:"Delete Mutu Unit",warning:"Yakin hapus data ini ?",children:e(te,{className:"ml-2",onClick:J,children:"Delete"})}),e("div",{className:"px-2 py-12 bg-white border rounded-xl",children:i("div",{className:"mx-auto sm:px-6 lg:px-8",children:[i("div",{className:"flex items-center justify-between mb-2",children:[e("div",{className:"w-1/2",children:i("div",{className:"flex items-center justify-start mt-2 mb-0 gap-x-1",children:[e(y,{type:"button",onClick:H,children:"Tambah"}),e(y,{onClick:X,children:"Print PDSA"}),e(y,{color:"cyan",onClick:M,children:"Print Indikator"})]})}),e("div",{className:"w-1/2",children:i("div",{className:"flex items-center justify-end mt-2 mb-0 gap-x-1",children:[e("select",{name:"load",id:"load",onChange:I,value:a.load,className:"transition duration-150 ease-in-out border-gray-300 rounded-lg focus:ring-blue-200 focus:ring form-select",children:R.map((t,n)=>e("option",{children:t},n))}),i("div",{className:"flex items-center px-2 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg gap-x-2 focus-within:border-blue-400 focus-within:ring-blue-200 focus-within:ring",children:[e("svg",{className:"inline w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",autoComplete:"off",name:"q",id:"q",onChange:I,value:a.q,className:"w-full border-0 focus:ring-0 form-text"})]})]})})]}),i(r,{overflow:"none",children:[e(r.Thead,{children:i(r.Tr,{children:[e(r.Th,{children:"#"}),e(r.Th,{children:"Status"}),e(r.Th,{children:"Bulan"}),i(r.Th,{onClick:()=>s("mutu_kategori_id"),children:["Kategori",a.field=="mutu_kategori_id"&&a.direction=="asc"&&e(m,{}),a.field=="mutu_kategori_id"&&a.direction=="desc"&&e(u,{})]}),i(r.Th,{onClick:()=>s("indikator_fitur4_id"),children:["Indikator",a.field=="indikator_fitur4_id"&&a.direction=="asc"&&e(m,{}),a.field=="indikator_fitur4_id"&&a.direction=="desc"&&e(u,{})]}),e(r.Th,{colSpan:3,children:"Numerator (N) & Denuminator (D)"}),i(r.Th,{onClick:()=>s("standar"),children:["Capaian",a.field=="standar"&&a.direction=="asc"&&e(m,{}),a.field=="standar"&&a.direction=="desc"&&e(u,{})]}),e(r.Th,{children:"Standar"}),i(r.Th,{onClick:()=>s("mutu_kategori_id"),children:["UNIT",a.field=="mutu_kategori_id"&&a.direction=="asc"&&e(m,{}),a.field=="mutu_kategori_id"&&a.direction=="desc"&&e(u,{})]}),e(r.Th,{})]})}),e(r.Tbody,{children:F.map((t,n)=>i(o.Fragment,{children:[i("tr",{children:[e(r.Td,{rowSpan:2,children:e(p,{children:T.from+n})}),e(r.Td,{rowSpan:2,children:t.mutu_indikator.operator==="="&&t.capaian>=t.mutu_indikator.standar||t.mutu_indikator.operator==="≥"&&t.capaian>=t.mutu_indikator.standar||t.mutu_indikator.operator==="≤"&&t.capaian<=t.mutu_indikator.standar||t.mutu_indikator.operator===">"&&t.capaian>t.mutu_indikator.standar||t.mutu_indikator.operator==="<"&&t.capaian<t.mutu_indikator.standar?e(p,{children:"Tercapai"}):e(c,{children:t.mutu_pdsa?e(p,{color:"yellow",children:"Sudah PDSA"}):e(p,{color:"red",children:"Perlu PDSA"})})}),e(r.Td,{rowSpan:2,children:le(t.tanggal_mutu).locale("he").format("MMMM YYYY")}),e(r.Td,{rowSpan:2,children:t.mutu_indikator.kategori.name}),e(r.Td,{rowSpan:2,children:t.mutu_indikator.indikator_fitur4.name}),e(r.Td,{children:"N"}),e(r.Td,{children:t.mutu_indikator.num_name}),e(r.Td,{children:t.num}),i(r.Td,{rowSpan:2,className:"whitespace-nowrap",children:[t.capaian,t.mutu_indikator.penyebut]}),i(r.Td,{rowSpan:2,className:"whitespace-nowrap",children:[t.mutu_indikator.operator," ",t.mutu_indikator.standar,t.mutu_indikator.penyebut]}),e(r.Td,{rowSpan:2,className:"whitespace-nowrap",children:t.mutu_indikator.location.name}),e(r.Td,{rowSpan:2,children:i(S,{children:[e(S.Trigger,{children:e("button",{children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})})})}),i(S.Content,{children:[t.mutu_indikator.operator==="="&&t.capaian>=t.mutu_indikator.standar||t.mutu_indikator.operator==="≥"&&t.capaian>=t.mutu_indikator.standar||t.mutu_indikator.operator==="≤"&&t.capaian<=t.mutu_indikator.standar||t.mutu_indikator.operator===">"&&t.capaian>t.mutu_indikator.standar||t.mutu_indikator.operator==="<"&&t.capaian<t.mutu_indikator.standar?e(c,{}):i(c,{children:[e("button",{className:"items-center block w-full px-4 py-2 text-sm leading-5 text-left text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:outline-none focus:bg-gray-100 gap-x-2",onClick:()=>W(t),children:"PDSA"}),t.mutu_pdsa&&e("a",{className:"block w-full px-4 py-2 text-sm leading-5 text-left text-gray-700 transition duration-150 ease-in-out tems-center hover:bg-gray-100 focus:outline-none focus:bg-gray-100 gap-x-2",href:`/print-pdsa/${t.code}`,children:"Print"})]}),e("button",{className:"items-center block w-full px-4 py-2 text-sm leading-5 text-left text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:outline-none focus:bg-gray-100 gap-x-2",onClick:()=>K(t),children:"Edit"}),e("button",{className:"items-center block w-full px-4 py-2 text-sm leading-5 text-left text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:outline-none focus:bg-gray-100 gap-x-2",onClick:()=>G(t),children:"Hapus"})]})]})})]}),i("tr",{children:[e(r.Td,{children:"D"}),e(r.Td,{children:t.mutu_indikator.denum_name}),e(r.Td,{children:t.denum})]})]},n))})]}),e(de,{meta:T})]})})]})}me.layout=d=>e(re,{children:d});export{me as default};
