import{r as p,R as Z,a as P,j as ee,F as ge}from"./app-43246a29.js";import{i as ue,s as Re,u as he,a as O,x as Ce}from"./use-tracked-pointer-aac8e847.js";import{V as j,j as be,y as H,p as se,o as x,X as V,l as L,s as Oe,u as B,P as we,m as fe}from"./render-b2513a84.js";import{I as W,h as Ie,s as ye,o as y,r as Se,A as $e}from"./keyboard-316c5b02.js";import{L as Pe}from"./use-outside-click-c0e3ef2d.js";import{F as Te}from"./use-tree-walker-cd8f7dff.js";import{T as Ee,e as Fe}from"./use-controllable-71132425.js";import{s as ke,p as le,C as Me,K as De}from"./transition-b0fc3aad.js";import{m as me}from"./use-watch-f1862f0e.js";var Le=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Le||{}),Ne=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ne||{}),_e=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(_e||{}),Ae=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e))(Ae||{});function ie(e,n=r=>r){let r=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=$e(n(e.options.slice()),a=>a.dataRef.current.domRef.current),c=r?o.indexOf(r):null;return c===-1&&(c=null),{options:o,activeOptionIndex:c}}let Be={1(e){return e.dataRef.current.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},0(e){if(e.dataRef.current.disabled||e.comboboxState===0)return e;let n=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,o=e.options.findIndex(c=>r(c.dataRef.current.value));return o!==-1&&(n=o),{...e,comboboxState:0,activeOptionIndex:n}},2(e,n){var r;if(e.dataRef.current.disabled||e.dataRef.current.optionsRef.current&&!e.dataRef.current.optionsPropsRef.current.static&&e.comboboxState===1)return e;let o=ie(e);if(o.activeOptionIndex===null){let a=o.options.findIndex(i=>!i.dataRef.current.disabled);a!==-1&&(o.activeOptionIndex=a)}let c=Ce(n,{resolveItems:()=>o.options,resolveActiveIndex:()=>o.activeOptionIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...e,...o,activeOptionIndex:c,activationTrigger:(r=n.trigger)!=null?r:1}},3:(e,n)=>{let r={id:n.id,dataRef:n.dataRef},o=ie(e,a=>[...a,r]);e.activeOptionIndex===null&&e.dataRef.current.isSelected(n.dataRef.current.value)&&(o.activeOptionIndex=o.options.indexOf(r));let c={...e,...o,activationTrigger:1};return e.dataRef.current.__demoMode&&e.dataRef.current.value===void 0&&(c.activeOptionIndex=0),c},4:(e,n)=>{let r=ie(e,o=>{let c=o.findIndex(a=>a.id===n.id);return c!==-1&&o.splice(c,1),o});return{...e,...r,activationTrigger:1}},5:(e,n)=>({...e,labelId:n.id})},ce=p.createContext(null);ce.displayName="ComboboxActionsContext";function X(e){let n=p.useContext(ce);if(n===null){let r=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,X),r}return n}let de=p.createContext(null);de.displayName="ComboboxDataContext";function K(e){let n=p.useContext(de);if(n===null){let r=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,K),r}return n}function je(e,n){return B(n.type,Be,e,n)}let Ve=p.Fragment;function Ke(e,n){let{value:r,defaultValue:o,onChange:c,name:a,by:i=(f,v)=>f===v,disabled:h=!1,__demoMode:b=!1,nullable:l=!1,multiple:g=!1,...w}=e,[t=g?[]:void 0,d]=Ee(r,c,o),[I,u]=p.useReducer(je,{dataRef:p.createRef(),comboboxState:b?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),R=p.useRef(!1),N=p.useRef({static:!1,hold:!1}),F=p.useRef(null),U=p.useRef(null),k=p.useRef(null),_=p.useRef(null),T=x(typeof i=="string"?(f,v)=>{let S=i;return(f==null?void 0:f[S])===(v==null?void 0:v[S])}:i),A=p.useCallback(f=>B(m.mode,{1:()=>t.some(v=>T(v,f)),0:()=>T(t,f)}),[t]),m=p.useMemo(()=>({...I,optionsPropsRef:N,labelRef:F,inputRef:U,buttonRef:k,optionsRef:_,value:t,defaultValue:o,disabled:h,mode:g?1:0,get activeOptionIndex(){if(R.current&&I.activeOptionIndex===null&&I.options.length>0){let f=I.options.findIndex(v=>!v.dataRef.current.disabled);if(f!==-1)return f}return I.activeOptionIndex},compare:T,isSelected:A,nullable:l,__demoMode:b}),[t,o,h,g,l,b,I]);L(()=>{I.dataRef.current=m},[m]),Pe([m.buttonRef,m.inputRef,m.optionsRef],()=>ae.closeCombobox(),m.comboboxState===0);let C=p.useMemo(()=>({open:m.comboboxState===0,disabled:h,activeIndex:m.activeOptionIndex,activeOption:m.activeOptionIndex===null?null:m.options[m.activeOptionIndex].dataRef.current.value,value:t}),[m,h,t]),M=x(f=>{let v=m.options.find(S=>S.id===f);!v||E(v.dataRef.current.value)}),s=x(()=>{if(m.activeOptionIndex!==null){let{dataRef:f,id:v}=m.options[m.activeOptionIndex];E(f.current.value),ae.goToOption(O.Specific,v)}}),D=x(()=>{u({type:0}),R.current=!0}),$=x(()=>{u({type:1}),R.current=!1}),z=x((f,v,S)=>(R.current=!1,f===O.Specific?u({type:2,focus:O.Specific,id:v,trigger:S}):u({type:2,focus:f,trigger:S}))),G=x((f,v)=>(u({type:3,id:f,dataRef:v}),()=>u({type:4,id:f}))),Q=x(f=>(u({type:5,id:f}),()=>u({type:5,id:null}))),E=x(f=>B(m.mode,{0(){return d==null?void 0:d(f)},1(){let v=m.value.slice(),S=v.findIndex(J=>T(J,f));return S===-1?v.push(f):v.splice(S,1),d==null?void 0:d(v)}})),ae=p.useMemo(()=>({onChange:E,registerOption:G,registerLabel:Q,goToOption:z,closeCombobox:$,openCombobox:D,selectActiveOption:s,selectOption:M}),[]),ve=n===null?{}:{ref:n},Y=p.useRef(null),xe=se();return p.useEffect(()=>{!Y.current||o!==void 0&&xe.addEventListener(Y.current,"reset",()=>{E(o)})},[Y,E]),Z.createElement(ce.Provider,{value:ae},Z.createElement(de.Provider,{value:m},Z.createElement(Me,{value:B(m.comboboxState,{0:le.Open,1:le.Closed})},a!=null&&t!=null&&Fe({[a]:t}).map(([f,v],S)=>Z.createElement(Ie,{features:ye.Hidden,ref:S===0?J=>{var pe;Y.current=(pe=J==null?void 0:J.closest("form"))!=null?pe:null}:void 0,...we({key:f,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:f,value:v})})),V({ourProps:ve,theirProps:w,slot:C,defaultTag:Ve,name:"Combobox"}))))}let Ue=j(Ke),ze="input",qe=j(function(e,n){var r,o,c,a;let i=W(),{id:h=`headlessui-combobox-input-${i}`,onChange:b,displayValue:l,type:g="text",...w}=e,t=K("Combobox.Input"),d=X("Combobox.Input"),I=H(t.inputRef,n),u=p.useRef(!1),R=se(),N=function(){var s;return typeof l=="function"&&t.value!==void 0?(s=l(t.value))!=null?s:"":typeof t.value=="string"?t.value:""}();me(([s,D],[$,z])=>{u.current||!t.inputRef.current||(z===0&&D===1||s!==$)&&(t.inputRef.current.value=s)},[N,t.comboboxState]),me(([s],[D])=>{if(s===0&&D===1){let $=t.inputRef.current;if(!$)return;let z=$.value,{selectionStart:G,selectionEnd:Q,selectionDirection:E}=$;$.value="",$.value=z,E!==null?$.setSelectionRange(G,Q,E):$.setSelectionRange(G,Q)}},[t.comboboxState]);let F=p.useRef(!1),U=x(()=>{F.current=!0}),k=x(()=>{setTimeout(()=>{F.current=!1})}),_=x(s=>{switch(u.current=!0,s.key){case y.Backspace:case y.Delete:if(t.mode!==0||!t.nullable)return;let D=s.currentTarget;R.requestAnimationFrame(()=>{D.value===""&&(d.onChange(null),t.optionsRef.current&&(t.optionsRef.current.scrollTop=0),d.goToOption(O.Nothing))});break;case y.Enter:if(u.current=!1,t.comboboxState!==0||F.current)return;if(s.preventDefault(),s.stopPropagation(),t.activeOptionIndex===null){d.closeCombobox();return}d.selectActiveOption(),t.mode===0&&d.closeCombobox();break;case y.ArrowDown:return u.current=!1,s.preventDefault(),s.stopPropagation(),B(t.comboboxState,{0:()=>{d.goToOption(O.Next)},1:()=>{d.openCombobox()}});case y.ArrowUp:return u.current=!1,s.preventDefault(),s.stopPropagation(),B(t.comboboxState,{0:()=>{d.goToOption(O.Previous)},1:()=>{d.openCombobox(),R.nextFrame(()=>{t.value||d.goToOption(O.Last)})}});case y.Home:if(s.shiftKey)break;return u.current=!1,s.preventDefault(),s.stopPropagation(),d.goToOption(O.First);case y.PageUp:return u.current=!1,s.preventDefault(),s.stopPropagation(),d.goToOption(O.First);case y.End:if(s.shiftKey)break;return u.current=!1,s.preventDefault(),s.stopPropagation(),d.goToOption(O.Last);case y.PageDown:return u.current=!1,s.preventDefault(),s.stopPropagation(),d.goToOption(O.Last);case y.Escape:return u.current=!1,t.comboboxState!==0?void 0:(s.preventDefault(),t.optionsRef.current&&!t.optionsPropsRef.current.static&&s.stopPropagation(),d.closeCombobox());case y.Tab:if(u.current=!1,t.comboboxState!==0)return;t.mode===0&&d.selectActiveOption(),d.closeCombobox();break}}),T=x(s=>{d.openCombobox(),b==null||b(s)}),A=x(()=>{u.current=!1}),m=ue(()=>{if(t.labelId)return[t.labelId].join(" ")},[t.labelId]),C=p.useMemo(()=>({open:t.comboboxState===0,disabled:t.disabled}),[t]),M={ref:I,id:h,role:"combobox",type:g,"aria-controls":(r=t.optionsRef.current)==null?void 0:r.id,"aria-expanded":t.disabled?void 0:t.comboboxState===0,"aria-activedescendant":t.activeOptionIndex===null||(o=t.options[t.activeOptionIndex])==null?void 0:o.id,"aria-multiselectable":t.mode===1?!0:void 0,"aria-labelledby":m,"aria-autocomplete":"list",defaultValue:(a=(c=e.defaultValue)!=null?c:t.defaultValue!==void 0?l==null?void 0:l(t.defaultValue):null)!=null?a:t.defaultValue,disabled:t.disabled,onCompositionStart:U,onCompositionEnd:k,onKeyDown:_,onChange:T,onBlur:A};return V({ourProps:M,theirProps:w,slot:C,defaultTag:ze,name:"Combobox.Input"})}),He="button",We=j(function(e,n){var r;let o=K("Combobox.Button"),c=X("Combobox.Button"),a=H(o.buttonRef,n),i=W(),{id:h=`headlessui-combobox-button-${i}`,...b}=e,l=se(),g=x(u=>{switch(u.key){case y.ArrowDown:return u.preventDefault(),u.stopPropagation(),o.comboboxState===1&&c.openCombobox(),l.nextFrame(()=>{var R;return(R=o.inputRef.current)==null?void 0:R.focus({preventScroll:!0})});case y.ArrowUp:return u.preventDefault(),u.stopPropagation(),o.comboboxState===1&&(c.openCombobox(),l.nextFrame(()=>{o.value||c.goToOption(O.Last)})),l.nextFrame(()=>{var R;return(R=o.inputRef.current)==null?void 0:R.focus({preventScroll:!0})});case y.Escape:return o.comboboxState!==0?void 0:(u.preventDefault(),o.optionsRef.current&&!o.optionsPropsRef.current.static&&u.stopPropagation(),c.closeCombobox(),l.nextFrame(()=>{var R;return(R=o.inputRef.current)==null?void 0:R.focus({preventScroll:!0})}));default:return}}),w=x(u=>{if(Se(u.currentTarget))return u.preventDefault();o.comboboxState===0?c.closeCombobox():(u.preventDefault(),c.openCombobox()),l.nextFrame(()=>{var R;return(R=o.inputRef.current)==null?void 0:R.focus({preventScroll:!0})})}),t=ue(()=>{if(o.labelId)return[o.labelId,h].join(" ")},[o.labelId,h]),d=p.useMemo(()=>({open:o.comboboxState===0,disabled:o.disabled,value:o.value}),[o]),I={ref:a,id:h,type:Re(e,o.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(r=o.optionsRef.current)==null?void 0:r.id,"aria-expanded":o.disabled?void 0:o.comboboxState===0,"aria-labelledby":t,disabled:o.disabled,onClick:w,onKeyDown:g};return V({ourProps:I,theirProps:b,slot:d,defaultTag:He,name:"Combobox.Button"})}),Xe="label",Ge=j(function(e,n){let r=W(),{id:o=`headlessui-combobox-label-${r}`,...c}=e,a=K("Combobox.Label"),i=X("Combobox.Label"),h=H(a.labelRef,n);L(()=>i.registerLabel(o),[o]);let b=x(()=>{var g;return(g=a.inputRef.current)==null?void 0:g.focus({preventScroll:!0})}),l=p.useMemo(()=>({open:a.comboboxState===0,disabled:a.disabled}),[a]);return V({ourProps:{ref:h,id:o,onClick:b},theirProps:c,slot:l,defaultTag:Xe,name:"Combobox.Label"})}),Qe="ul",Ye=be.RenderStrategy|be.Static,Je=j(function(e,n){let r=W(),{id:o=`headlessui-combobox-options-${r}`,hold:c=!1,...a}=e,i=K("Combobox.Options"),h=H(i.optionsRef,n),b=ke(),l=(()=>b!==null?b===le.Open:i.comboboxState===0)();L(()=>{var t;i.optionsPropsRef.current.static=(t=e.static)!=null?t:!1},[i.optionsPropsRef,e.static]),L(()=>{i.optionsPropsRef.current.hold=c},[i.optionsPropsRef,c]),Te({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(t){return t.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});let g=ue(()=>{var t,d;return(d=i.labelId)!=null?d:(t=i.buttonRef.current)==null?void 0:t.id},[i.labelId,i.buttonRef.current]),w=p.useMemo(()=>({open:i.comboboxState===0}),[i]);return V({ourProps:{"aria-labelledby":g,role:"listbox",id:o,ref:h},theirProps:a,slot:w,defaultTag:Qe,features:Ye,visible:l,name:"Combobox.Options"})}),Ze="li",eo=j(function(e,n){var r,o;let c=W(),{id:a=`headlessui-combobox-option-${c}`,disabled:i=!1,value:h,...b}=e,l=K("Combobox.Option"),g=X("Combobox.Option"),w=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===a:!1,t=l.isSelected(h),d=p.useRef(null),I=Oe({disabled:i,value:h,domRef:d,textValue:(o=(r=d.current)==null?void 0:r.textContent)==null?void 0:o.toLowerCase()}),u=H(n,d),R=x(()=>g.selectOption(a));L(()=>g.registerOption(a,I),[I,a]);let N=p.useRef(!l.__demoMode);L(()=>{if(!l.__demoMode)return;let C=fe();return C.requestAnimationFrame(()=>{N.current=!0}),C.dispose},[]),L(()=>{if(l.comboboxState!==0||!w||!N.current||l.activationTrigger===0)return;let C=fe();return C.requestAnimationFrame(()=>{var M,s;(s=(M=d.current)==null?void 0:M.scrollIntoView)==null||s.call(M,{block:"nearest"})}),C.dispose},[d,w,l.comboboxState,l.activationTrigger,l.activeOptionIndex]);let F=x(C=>{if(i)return C.preventDefault();R(),l.mode===0&&g.closeCombobox()}),U=x(()=>{if(i)return g.goToOption(O.Nothing);g.goToOption(O.Specific,a)}),k=he(),_=x(C=>k.update(C)),T=x(C=>{!k.wasMoved(C)||i||w||g.goToOption(O.Specific,a,0)}),A=x(C=>{!k.wasMoved(C)||i||!w||l.optionsPropsRef.current.hold||g.goToOption(O.Nothing)}),m=p.useMemo(()=>({active:w,selected:t,disabled:i}),[w,t,i]);return V({ourProps:{id:a,ref:u,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":t,disabled:void 0,onClick:F,onFocus:U,onPointerEnter:_,onMouseEnter:_,onPointerMove:T,onMouseMove:T,onPointerLeave:A,onMouseLeave:A},theirProps:b,slot:m,defaultTag:Ze,name:"Combobox.Option"})}),q=Object.assign(Ue,{Input:qe,Button:We,Label:Ge,Options:Je,Option:eo});const oe=p;function oo({title:e,titleId:n,...r},o){return oe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:o,"aria-labelledby":n},r),e?oe.createElement("title",{id:n},e):null,oe.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"}))}const to=oe.forwardRef(oo);var no=to;const te=p;function ro({title:e,titleId:n,...r},o){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:o,"aria-labelledby":n},r),e?te.createElement("title",{id:n},e):null,te.createElement("path",{fillRule:"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.2a.75.75 0 011.06.04l2.7 2.908 2.7-2.908a.75.75 0 111.1 1.02l-3.25 3.5a.75.75 0 01-1.1 0l-3.25-3.5a.75.75 0 01.04-1.06z",clipRule:"evenodd"}))}const ao=te.forwardRef(ro);var io=ao;const ne=p;function lo({title:e,titleId:n,...r},o){return ne.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:o,"aria-labelledby":n},r),e?ne.createElement("title",{id:n},e):null,ne.createElement("path",{fillRule:"evenodd",d:"M4 10a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H4.75A.75.75 0 014 10z",clipRule:"evenodd"}))}const uo=ne.forwardRef(lo);var so=uo;const re=p;function co({title:e,titleId:n,...r},o){return re.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:o,"aria-labelledby":n},r),e?re.createElement("title",{id:n},e):null,re.createElement("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"}))}const po=re.forwardRef(co);var bo=po,fo=no,mo=io,yo=so,So=bo;function $o({ShouldMap:e,selected:n,tampilkanvalue:r="false",onChange:o,name:c}){const[a,i]=p.useState(""),h=a===""?e:e.filter(b=>b.name.toLowerCase().replace(/\s+/g,"").includes(a.toLowerCase().replace(/\s+/g,"")));return P("div",{className:"",children:P(q,{value:n,onChange:o,name:c,children:ee("div",{className:"relative mt-1",children:[ee("div",{className:"relative w-full overflow-hidden text-left bg-white border border-gray-300 rounded-md shadow-sm cursor-default focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300",children:[P(q.Input,{className:"w-full py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 break-words border-none focus:ring-0",autoComplete:"off",displayValue:b=>b.value?"("+b.value+") "+b.name:b.name,onChange:b=>i(b.target.value)}),P(q.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:P(mo,{className:"w-5 h-5 text-gray-400","aria-hidden":"true"})})]}),P(De,{as:p.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>i(""),children:P(q.Options,{className:"absolute z-10 w-full py-1 mt-1 overflow-auto text-base break-words bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:h.length===0&&a!==""?P("div",{className:"relative px-4 py-2 text-gray-700 cursor-default select-none",children:"Nothing found."}):h.map(b=>P(q.Option,{className:({active:l})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${l?"bg-teal-600 text-white":"text-gray-900"}`,value:b,children:({selected:l,active:g})=>ee(ge,{children:[ee("span",{className:`block truncate ${l?"font-medium":"font-normal"}`,children:[b.value," ",b.name]}),l?P("span",{className:`absolute inset-y-0 left-0 flex items-center pl-3 ${g?"text-white":"text-teal-600"}`,children:P(fo,{className:"w-5 h-5","aria-hidden":"true"})}):null]})},b.id))})})]})})})}export{$o as C,yo as M,So as P,fo as a,mo as b,q as k};
