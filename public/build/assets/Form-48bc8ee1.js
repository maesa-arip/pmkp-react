import{r as p,j as n,F as g,a}from"./app-40227382.js";import{C as u}from"./ComboboxPage-878696ae.js";import{I as c}from"./InputError-0cf9554f.js";import{I as m}from"./InputLabel-4fdd6287.js";import{P as q}from"./PrimaryButton-ce8a4982.js";import{S as z}from"./SecondaryButton-e376ea20.js";import{T as k}from"./TextAreaInput-919603c2.js";import{T as o}from"./TextInput-70d63fd3.js";import{t as Q}from"./index-c0c70693.js";import{C as X}from"./ComboboxMultiple-7454ec32.js";import"./use-tracked-pointer-5a6dfe94.js";import"./render-66257b5b.js";import"./keyboard-61a26669.js";import"./use-outside-click-09bb6113.js";import"./use-tree-walker-55160274.js";import"./use-controllable-2ece201f.js";import"./transition-28801c53.js";import"./use-watch-f0387d0f.js";import"./defineProperty-8250cd14.js";import"./clsx-aaf5a234.js";function ve({errors:s,submit:_,data:i,setData:l,closeButton:h,ShouldMap:t,model:d}){console.log(d);const[f,v]=p.useState(null),r=[{name:""}],N=(i.pic_id?i.pic_id:",").replace(/['"]+/g,"").split(",").map(e=>e.toString()),[I,b]=p.useState(()=>d?t.IkpPenanggung.find(e=>e.id===d.ikp_penanggung_id):r[0]),[y,P]=p.useState(()=>d?t.JenisKelamin.find(e=>e.id===d.jeniskelamin):r[0]),[C,j]=p.useState(()=>d?t.IkpPelapor.find(e=>e.id===d.ikp_pelapor_id):r[0]),[T,S]=p.useState(()=>d?t.IkpGrupLayanan.find(e=>e.id===d.ikp_gruplayanan_id):r[0]),[x,w]=p.useState(()=>d?t.IkpJenisInsiden.find(e=>e.id===d.ikp_jenis_insiden_id):r[0]),[L,J]=p.useState(()=>d?t.IkpTipeInsiden.find(e=>e.id===d.ikp_tipe_insiden_id):r[0]),[K,F]=p.useState(()=>d?t.IkpLokasi.find(e=>e.id===d.ikp_lokasi_id):r[0]),[B,G]=p.useState(()=>d?t.IkpSpesialisasi.find(e=>e.id===d.ikp_spesialisasi_id):r[0]),[O,R]=p.useState(()=>d?t.IkpDampak.find(e=>e.id===d.ikp_dampak_id):r[0]),[W,A]=p.useState(()=>d?t.IkpProbabilitas.find(e=>e.id===d.ikp_probabilitas_id):r[0]),[E,U]=p.useState(()=>d?t.IkpPenindak.find(e=>e.id===d.ikp_penindak_id):r[0]),[V,H]=p.useState(()=>d?t.IkpTerjadiTempatLain.find(e=>e.id===d.terjadi_tempatlain):r[0]);return n(g,{children:[n("div",{className:"px-4 py-5 bg-white sm:p-6",children:[a("div",{className:"grid grid-cols-12 gap-6",children:n("div",{className:"col-span-12 p-6 my-6 border-4 rounded-lg border-cyan-200 ",children:[a("label",{htmlFor:"",className:"block mb-4 text-lg font-bold text-gray-700 ",children:"Data Pasien (Wajib di Input)"}),n("div",{className:"grid grid-cols-12 gap-6",children:[n("div",{className:"col-span-6",children:[a(m,{for:"namapasien",value:"Nama Pasien"}),a(o,{id:"namapasien",value:i.namapasien,handleChange:e=>l("namapasien",e.target.value),type:"text",className:"block w-full mt-1"}),a(c,{message:s.namapasien,className:"mt-2"})]}),n("div",{className:"col-span-6",children:[a(m,{for:"nrm",value:"NRM"}),a(o,{id:"nrm",value:i.nrm,handleChange:e=>l("nrm",e.target.value),type:"text",className:"block w-full mt-1"}),a(c,{message:s.nrm,className:"mt-2"})]}),n("div",{className:"col-span-2",children:[a(m,{for:"umur_tahun",value:"Umur"}),a(o,{id:"umur_tahun",value:i.umur_tahun,placeholder:"Tahun",handleChange:e=>l("umur_tahun",e.target.value),type:"number",className:"block w-full mt-1"}),a(c,{message:s.umur_tahun,className:"mt-2"})]}),n("div",{className:"col-span-2",children:[a(m,{for:"umur_bulan",value:"-"}),a(o,{id:"umur_bulan",value:i.umur_bulan,placeholder:"Bulan",handleChange:e=>l("umur_bulan",e.target.value),type:"number",className:"block w-full mt-1"}),a(c,{message:s.umur_bulan,className:"mt-2"})]}),n("div",{className:"col-span-2",children:[a(m,{for:"umur_hari",value:"-"}),a(o,{id:"umur_hari",value:i.umur_hari,placeholder:"Hari",handleChange:e=>l("umur_hari",e.target.value),type:"number",className:"block w-full mt-1"}),a(c,{message:s.umur_hari,className:"mt-2"})]}),n("div",{className:"col-span-6",children:[a(m,{for:"IkpPenanggung",value:"Penanggung Biaya Pasien"}),a(u,{ShouldMap:t.IkpPenanggung,selected:I,onChange:e=>{l({...i,ikp_penanggung_id:e.id}),b(e)}}),a(c,{message:s.ikp_penanggung_id,className:"mt-2"})]}),n("div",{className:"col-span-6",children:[a(m,{for:"JenisKelamin",value:"Jenis Kelamin"}),a(u,{ShouldMap:t.JenisKelamin,selected:y,onChange:e=>{l({...i,jeniskelamin:e.id}),P(e)}}),a(c,{message:s.jeniskelamin,className:"mt-2"})]}),n("div",{className:"col-span-6",children:[a(m,{for:"TanggalPelayanan",value:"Tanggal Pelayanan"}),a(Q,{dateFormat:"dd-MM-yyyy",value:i.tanggal_pelayanan,selected:f,id:"tanggal_pelayanan",name:"tanggal_pelayanan",autoComplete:"off",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onChange:e=>{v(e);const Y=new Date(e).toLocaleDateString("en-CA");l("tanggal_pelayanan",Y)}}),a(c,{message:s.tanggal_pelayanan,className:"mt-2"})]})]})]})}),a("div",{className:"grid grid-cols-12 gap-6",children:n("div",{className:"col-span-12 p-6 my-6 border-4 rounded-lg border-cyan-200 ",children:[a("label",{htmlFor:"",className:"block mb-4 text-lg font-bold text-gray-700 ",children:"Rincian Kejadian (Wajib di Input)"}),n("div",{className:"grid grid-cols-12 gap-6",children:[n("div",{className:"col-span-6",children:[a(m,{for:"tanggal_insiden",value:"Tanggal dan Waktu Insiden"}),a(o,{id:"tanggal_insiden",value:i.tanggal_insiden,handleChange:e=>l("tanggal_insiden",e.target.value),type:"datetime-local",className:"block w-full mt-1"}),a(c,{message:s.tanggal_insiden,className:"mt-2"})]}),n("div",{className:"col-span-6",children:[a(m,{for:"IkpPelapor",value:"Orang Pertama Yang Melaporkan Insiden"}),a(u,{ShouldMap:t.IkpPelapor,selected:C,onChange:e=>{l({...i,ikp_pelapor_id:e.id}),j(e)}}),a(c,{message:s.ikp_pelapor_id,className:"mt-2"})]}),n("div",{className:"col-span-6",children:[a(m,{for:"insiden",value:"Insiden"}),a(o,{id:"insiden",value:i.insiden,handleChange:e=>l("insiden",e.target.value),type:"text",className:"block w-full mt-1"}),a(c,{message:s.insiden,className:"mt-2"})]}),n("div",{className:"col-span-6",children:[a(m,{for:"IkpGrupLayanan",value:"Insiden menyangkut pasien"}),a(u,{ShouldMap:t.IkpGrupLayanan,selected:T,onChange:e=>{l({...i,ikp_gruplayanan_id:e.id}),S(e)}}),a(c,{message:s.ikp_gruplayanan_id,className:"mt-2"})]}),n("div",{className:"col-span-12",children:[a(m,{for:"kronologi",value:"Kronologis Insiden"}),a(k,{id:"kronologi",value:i.kronologi,handleChange:e=>l("kronologi",e.target.value),rows:5,type:"text",className:"block w-full mt-1"}),a(c,{message:s.kronologi,className:"mt-2"})]}),n("div",{className:"col-span-6",children:[a(m,{for:"IkpJenisInsiden",value:"Jenis Insiden"}),a(u,{ShouldMap:t.IkpJenisInsiden,selected:x,onChange:e=>{l({...i,ikp_jenis_insiden_id:e.id}),w(e)}}),a(c,{message:s.ikp_jenis_insiden_id,className:"mt-2"})]}),n("div",{className:"col-span-6",children:[a(m,{for:"IkpTipeInsiden",value:"Tipe Insiden"}),a(u,{ShouldMap:t.IkpTipeInsiden,selected:L,onChange:e=>{l({...i,ikp_tipe_insiden_id:e.id}),J(e)}}),a(c,{message:s.ikp_tipe_insiden_id,className:"mt-2"})]}),n("div",{className:"col-span-6",children:[a(m,{for:"IkpSpesialisasi",value:"Insiden Terjadi Pada Pasien"}),a(u,{ShouldMap:t.IkpSpesialisasi,selected:B,onChange:e=>{l({...i,ikp_spesialisasi_id:e.id}),G(e)}}),a(c,{message:s.ikp_spesialisasi_id,className:"mt-2"})]}),n("div",{className:"col-span-6",children:[a(m,{for:"IkpLokasi",value:"Tempat Insiden"}),a(u,{ShouldMap:t.IkpLokasi,selected:K,onChange:e=>{l({...i,ikp_lokasi_id:e.id}),F(e)}}),a(c,{message:s.ikp_lokasi_id,className:"mt-2"})]}),i.ikp_lokasi_id?n(g,{children:[a("div",{className:"col-span-6"}),n("div",{className:"col-span-6",children:[a(m,{for:"lokasi_name",value:"Sebutkan"}),a(o,{id:"lokasi_name",value:i.lokasi_name,handleChange:e=>l("lokasi_name",e.target.value),type:"text",className:"block w-full mt-1"}),a(c,{message:s.lokasi_name,className:"mt-2"})]})]}):a(g,{}),n("div",{className:"col-span-12",children:[a(m,{for:"Kategori Risiko",value:"PIC Unit Terkait"}),a(X,{ShouldMap:t.pics,name:"pic_id",onChange:e=>{l({...i,pic_id:e})},defaultValues:N}),a(c,{message:s.pic_id,className:"mt-2"})]}),n("div",{className:"col-span-6",children:[a(m,{for:"Dampak",value:"Dampak Insiden Terhadap Pasien"}),a(u,{ShouldMap:t.IkpDampak,selected:O,onChange:e=>{l({...i,ikp_dampak_id:e.id}),R(e)}}),a(c,{message:s.ikp_dampak_id,className:"mt-2"})]}),n("div",{className:"col-span-6",children:[a(m,{for:"Probabilitas",value:"Probabilitas"}),a(u,{ShouldMap:t.IkpProbabilitas,selected:W,onChange:e=>{l({...i,ikp_probabilitas_id:e.id}),A(e)}}),a(c,{message:s.ikp_probabilitas_id,className:"mt-2"})]}),n("div",{className:"col-span-12",children:[a(m,{for:"tindak_lanjut_hasil",value:"Tindak lanjut yang dilakukan segera setelah kejadian, dan hasilnya"}),a(k,{id:"tindak_lanjut_hasil",value:i.tindak_lanjut_hasil,handleChange:e=>l("tindak_lanjut_hasil",e.target.value),rows:5,type:"text",className:"block w-full mt-1"}),a(c,{message:s.tindak_lanjut_hasil,className:"mt-2"})]}),n("div",{className:"col-span-6",children:[a(m,{for:"Penindak",value:"Tindak Lanjut Dilakukan Oleh"}),a(u,{ShouldMap:t.IkpPenindak,selected:E,onChange:e=>{l({...i,ikp_penindak_id:e.id}),U(e)}}),a(c,{message:s.ikp_penindak_id,className:"mt-2"})]}),n("div",{className:"col-span-6",children:[a(m,{for:"TerjadiTempatlain",value:"Tindak Lanjut Dilakukan Oleh"}),a(u,{ShouldMap:t.IkpTerjadiTempatLain,selected:V,onChange:e=>{l({...i,terjadi_tempatlain:e.id}),H(e)}}),a(c,{message:s.terjadi_tempatlain,className:"mt-2"})]}),i.terjadi_tempatlain==1?n("div",{className:"col-span-12",children:[a(m,{for:"langkah_tempatlain",value:"Langkah/tindakan apa yang telah diambil pada pelayanan tersebut untuk mencegah terulangnya kejadian yang sama?"}),a(k,{id:"langkah_tempatlain",value:i.langkah_tempatlain,handleChange:e=>l("langkah_tempatlain",e.target.value),rows:5,type:"text",className:"block w-full mt-1"}),a(c,{message:s.langkah_tempatlain,className:"mt-2"})]}):a(g,{})]})]})})]}),n("div",{className:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[a(q,{children:_}),a(z,{className:"mx-2",onClick:h,children:"Batal"})]})]})}export{ve as default};
