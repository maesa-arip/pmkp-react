import{r as s,l as z,g as B,j as n,F as V,a as e,n as Q}from"./app-43246a29.js";import{D as X}from"./DangerButton-a205a697.js";import{A as Z}from"./App-2b9edfd8.js";import{A as ee}from"./AddModal-ed1af27c.js";import{D as ie}from"./DestroyModal-81d30e28.js";import{E as Y}from"./EditModal-49fe3103.js";import te from"./Edit-611ec70e.js";import{T as u}from"./ThirdButton-c146060f.js";import ne from"./Create-73a68106.js";import ae from"./Edit-ea88a771.js";import{T as a,B as oe,P as re}from"./Badge-3539fc6f.js";import{h as _}from"./moment-fbc5633a.js";import"./ApplicationLogo-c610250b.js";import"./transition-b0fc3aad.js";import"./render-b2513a84.js";import"./ComboboxPage-05afddcc.js";import"./use-tracked-pointer-aac8e847.js";import"./keyboard-316c5b02.js";import"./use-outside-click-c0e3ef2d.js";import"./use-tree-walker-cd8f7dff.js";import"./use-controllable-71132425.js";import"./use-watch-f1862f0e.js";import"./dialog-5eb64805.js";import"./description-f1b6d31b.js";import"./TextInput-e2264539.js";import"./ComboboxMultiple-7a5d909d.js";import"./clsx-82ef765e.js";import"./defineProperty-8250cd14.js";/* empty css                         */import"./ComboboxMultipleWithOutSemuaUnit-e1a3a693.js";import"./BPKP-8b71a376.js";import"./InputLabel-7159db58.js";import"./PrimaryButton-ab57cc3d.js";import"./SecondaryButton-d32e9bed.js";import"./index-91fecc94.js";import"./LarsDHPKlinis-f75106f2.js";import"./LarsDHPNonKlinis-17b4c7e6.js";import"./SedangTerjadi-cbddbcc2.js";import"./IKPDataInsiden-967e80d8.js";import"./IKPDataEvaluasi-fb63d4e9.js";import"./Form-027c8666.js";import"./InputError-8479d924.js";import"./TextAreaInput-1926018e.js";import"./ComboboxPageReadonly-b4a7baa7.js";import"./Form-fe821f9f.js";const c=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),p=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})});function le(r){const{data:m,meta:T,filtered:O,attributes:h}=r.IkpPasien;let g={IkpJenisInsiden:r.IkpJenisInsiden,IkpTipeInsiden:r.IkpTipeInsiden,IkpSpesialisasi:r.IkpSpesialisasi,IkpDampak:r.IkpDampak,IkpProbabilitas:r.IkpProbabilitas,IkpPelapor:r.IkpPelapor,IkpGrupLayanan:r.IkpGrupLayanan,IkpPenanggung:r.IkpPenanggung,IkpLokasi:r.IkpLokasi,IkpPenindak:r.IkpPenindak,pics:r.pics,IkpTerjadiTempatLain:[{id:0,name:"Tidak"},{id:1,name:"Ya"}],JenisKelamin:[{id:1,name:"Laki - Laki"},{id:2,name:"Perempuan"},{id:3,name:"-"}],IkpVerifikasi:[{id:0,name:"Tidak"},{id:1,name:"Ya"}],IkpInvestigasiLengkap:[{id:0,name:"Tidak"},{id:1,name:"Ya"}],IkpInvestigasiLanjut:[{id:0,name:"Tidak"},{id:1,name:"Ya"}]};console.log(g);const[P,R]=s.useState([]),[t,M]=s.useState(O),[H,A]=s.useState(!0),K=s.useCallback(z.debounce(i=>{B.get(route(route().current()),{...z.pickBy(i),page:i.page},{preserveState:!0,preserveScroll:!0})},150),[]);s.useEffect(()=>{H?A(!1):K(t)},[t]),s.useEffect(()=>{let i=[];for(let l=h.per_page;l<h.total/h.per_page;l=l+h.per_page)i.push(l);R(i)},[]);const D=i=>{const l={...t,[i.target.name]:i.target.value,page:1};M(l)},d=i=>{M({...t,field:i,direction:t.direction=="asc"?"desc":"asc"})},[o,y]=s.useState(null),[se,k]=s.useState(null),[C,f]=s.useState(!1),[N,w]=s.useState(!1),[E,v]=s.useState(!1),[F,b]=s.useState(!1),[I,x]=s.useState([]),J=()=>{f(!0)},W=i=>{y(o===i?null:i)},G=i=>{x(i),k(i),w(!0)},$=i=>{x(i),k(i),b(!0)},q=()=>{B.delete(route("IkpPasien.destroy",I.id),{onSuccess:()=>b(!1)})},U=i=>{x(i),k(i),v(!0)};return n(V,{children:[e(Q,{title:"IKP Form"}),e(ee,{isOpenAddDialog:C,setIsOpenAddDialog:f,size:"max-w-7xl",title:"Tambah IKP Form",children:e(ne,{ShouldMap:g,isOpenAddDialog:C,setIsOpenAddDialog:f})}),e(Y,{isOpenEditDialog:N,setIsOpenEditDialog:w,size:"max-w-7xl",title:"Edit IKP Form",children:e(ae,{model:I,ShouldMap:g,isOpenEditDialog:N,setIsOpenEditDialog:w})}),e(Y,{isOpenEditDialog:E,setIsOpenEditDialog:v,size:"max-w-6xl",title:"Edit Hasil Investigasi",children:e(te,{model:I,ShouldMap:g,isOpenEditDialog:E,setIsOpenEditDialog:v})}),e(ie,{isOpenDestroyDialog:F,setIsOpenDestroyDialog:b,size:"max-w-4xl",title:"Delete IKP Form",warning:"Yakin hapus data ini ?",children:e(X,{className:"ml-2",onClick:q,children:"Delete"})}),e("div",{className:"px-2 py-12 bg-white border rounded-xl",children:n("div",{className:"mx-auto sm:px-6 lg:px-8",children:[n("div",{className:"flex items-center justify-between mb-2",children:[e("div",{className:"w-1/2",children:n("div",{className:"flex items-center justify-start mt-2 mb-0 gap-x-1",children:[n(u,{type:"button",color:"sky",onClick:J,children:["Tambah IKP",n("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 ml-2 icon icon-tabler icon-tabler-square-rounded-plus",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M9 12h6"}),e("path",{d:"M12 9v6"}),e("path",{d:"M12 3c7.2 0 9 1.8 9 9s-1.8 9 -9 9s-9 -1.8 -9 -9s1.8 -9 9 -9z"})]})]}),n(u,{color:o===null?"gray":"blue",type:"button",className:`${o===null?"cursor-not-allowed":""}`,onClick:()=>{if(o!==null){const i=m[o];G(i)}},disabled:o===null,children:["Edit",n("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 ml-2 icon icon-tabler icon-tabler-edit",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"}),e("path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"}),e("path",{d:"M16 5l3 3"})]})]}),n(u,{color:o===null?"gray":"red",type:"button",className:`${o===null?"cursor-not-allowed":""}`,onClick:()=>{if(o!==null){const i=m[o];$(i)}},disabled:o===null,children:["Delete",n("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 ml-2 icon icon-tabler icon-tabler-trash",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M4 7l16 0"}),e("path",{d:"M10 11l0 6"}),e("path",{d:"M14 11l0 6"}),e("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),e("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})]}),n(u,{color:o===null?"gray":"yellow",type:"button",className:`${o===null?"cursor-not-allowed":""}`,onClick:()=>{if(o!==null){const i=m[o];U(i)}},disabled:o===null,children:["Hasil Investigasi",n("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 ml-2 icon icon-tabler icon-tabler-report-search",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M8 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h5.697"}),e("path",{d:"M18 12v-5a2 2 0 0 0 -2 -2h-2"}),e("path",{d:"M8 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"}),e("path",{d:"M8 11h4"}),e("path",{d:"M8 15h3"}),e("path",{d:"M16.5 17.5m-2.5 0a2.5 2.5 0 1 0 5 0a2.5 2.5 0 1 0 -5 0"}),e("path",{d:"M18.5 19.5l2.5 2.5"})]})]})]})}),e("div",{className:"w-1/2",children:n("div",{className:"flex items-center justify-end mt-2 mb-0 gap-x-1",children:[e("select",{name:"load",id:"load",onChange:D,value:t.load,className:"transition duration-150 ease-in-out border-gray-300 rounded-lg focus:ring-blue-200 focus:ring form-select",children:P.map((i,l)=>e("option",{children:i},l))}),n("div",{className:"flex items-center px-2 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg gap-x-2 focus-within:border-blue-400 focus-within:ring-blue-200 focus-within:ring",children:[e("svg",{className:"inline w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",autoComplete:"off",name:"q",id:"q",onChange:D,value:t.q,className:"w-full border-0 focus:ring-0 form-text"})]})]})})]}),n(a,{children:[e(a.Thead,{children:n(a.Tr,{children:[e(a.Th,{children:"#"}),n(a.Th,{onClick:()=>d("tanggal_insiden"),children:["Tanggal_Kejadian",t.field=="tanggal_insiden"&&t.direction=="asc"&&e(c,{}),t.field=="tanggal_insiden"&&t.direction=="desc"&&e(p,{})]}),n(a.Th,{onClick:()=>d("created_at"),children:["Tanggal Melapor",t.field=="created_at"&&t.direction=="asc"&&e(c,{}),t.field=="created_at"&&t.direction=="desc"&&e(p,{})]}),n(a.Th,{onClick:()=>d("lokasi_name"),children:["Unit",t.field=="lokasi_name"&&t.direction=="asc"&&e(c,{}),t.field=="lokasi_name"&&t.direction=="desc"&&e(p,{})]}),n(a.Th,{onClick:()=>d("ikp_jenis_insiden_id"),children:["Jenis Insiden",t.field=="ikp_jenis_insiden_id"&&t.direction=="asc"&&e(c,{}),t.field=="ikp_jenis_insiden_id"&&t.direction=="desc"&&e(p,{})]}),n(a.Th,{onClick:()=>d("insiden"),children:["Insiden",t.field=="insiden"&&t.direction=="asc"&&e(c,{}),t.field=="insiden"&&t.direction=="desc"&&e(p,{})]}),n(a.Th,{onClick:()=>d("ikp_penanggung_id"),children:["Penannggung Jawab Biaya",t.field=="ikp_penanggung_id"&&t.direction=="asc"&&e(c,{}),t.field=="ikp_penanggung_id"&&t.direction=="desc"&&e(p,{})]}),n(a.Th,{onClick:()=>d("concatdp"),children:["Grading",t.field=="concatdp"&&t.direction=="asc"&&e(c,{}),t.field=="concatdp"&&t.direction=="desc"&&e(p,{})]}),n(a.Th,{onClick:()=>d("concatdp2"),children:["Grading Setelah Investigasi",t.field=="concatdp2"&&t.direction=="asc"&&e(c,{}),t.field=="concatdp2"&&t.direction=="desc"&&e(p,{})]})]})}),e(a.Tbody,{children:m.map((i,l)=>{var L,S,j;return n("tr",{className:o===l?"bg-sky-100  cursor-pointer":i.riskgrading.name_ikp=="Ekstrim"?"cursor-pointer text-white bg-red-500":i.riskgrading.name_ikp=="Tinggi"?"cursor-pointer text-white bg-amber-500":i.riskgrading.name_ikp=="Moderat"?"cursor-pointer text-white bg-green-500":"cursor-pointer text-white bg-sky-500",onClick:()=>W(l),children:[e(a.Td,{children:e(oe,{children:T.from+l})}),n(a.Td,{children:[_(i.tanggal_insiden).format("DD-MM-YYYY")," (",_(i.tanggal_insiden).format("hh:mm"),")"]}),e(a.Td,{className:"whitespace-nowrap",children:_(i.created_at).format("DD-MM-YYYY")}),e(a.Td,{children:i.lokasi_name}),e(a.Td,{children:(L=i.jenis_insiden)==null?void 0:L.name}),e(a.Td,{children:i.insiden}),e(a.Td,{children:(S=i.penanggung)==null?void 0:S.name}),e(a.Td,{children:(j=i.riskgrading)==null?void 0:j.name_ikp}),e(a.Td,{children:i.hasil_grading?i.hasil_grading.name_ikp:"Belum Investigasi"})]},l)})})]}),e(re,{meta:T})]})})]})}le.layout=r=>e(Z,{children:r});export{le as default};
