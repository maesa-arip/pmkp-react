import{r as l,R as Z,a as P,j as ee,F as fe}from"./app-65c3736e.js";import{i as re,u as me,T as ve,a as I,e as xe,x as ge}from"./use-tracked-pointer-de4b2092.js";import{c as k,V as j,j as se,y as z,b as ae,o as R,X as B,s as Re,p as ne,a as Oe,u as V,C as Ce,P as he,m as ce,K as Ie}from"./transition-329c4a8a.js";import{e as we,I as H,b as Se,h as ye,s as Te,o as S,r as Pe,A as $e}from"./keyboard-0b468988.js";import{s as Ee}from"./use-resolve-button-type-18bfd09c.js";import{m as de}from"./use-watch-5fc0b0f7.js";function ke({container:e,accept:n,walk:r,enabled:t=!0}){let u=l.useRef(n),a=l.useRef(r);l.useEffect(()=>{u.current=n,a.current=r},[n,r]),k(()=>{if(!e||!t)return;let i=we(e);if(!i)return;let g=u.current,b=a.current,s=Object.assign(h=>g(h),{acceptNode:g}),m=i.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,s,!1);for(;m.nextNode();)b(m.currentNode)},[e,t,u,a])}var Fe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Fe||{}),De=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(De||{}),Le=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Le||{}),Ne=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e))(Ne||{});function oe(e,n=r=>r){let r=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,t=$e(n(e.options.slice()),a=>a.dataRef.current.domRef.current),u=r?t.indexOf(r):null;return u===-1&&(u=null),{options:t,activeOptionIndex:u}}let Me={[1](e){return e.dataRef.current.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},[0](e){if(e.dataRef.current.disabled||e.comboboxState===0)return e;let n=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,t=e.options.findIndex(u=>r(u.dataRef.current.value));return t!==-1&&(n=t),{...e,comboboxState:0,activeOptionIndex:n}},[2](e,n){var r;if(e.dataRef.current.disabled||e.dataRef.current.optionsRef.current&&!e.dataRef.current.optionsPropsRef.current.static&&e.comboboxState===1)return e;let t=oe(e);if(t.activeOptionIndex===null){let a=t.options.findIndex(i=>!i.dataRef.current.disabled);a!==-1&&(t.activeOptionIndex=a)}let u=ge(n,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...e,...t,activeOptionIndex:u,activationTrigger:(r=n.trigger)!=null?r:1}},[3]:(e,n)=>{let r={id:n.id,dataRef:n.dataRef},t=oe(e,a=>[...a,r]);e.activeOptionIndex===null&&e.dataRef.current.isSelected(n.dataRef.current.value)&&(t.activeOptionIndex=t.options.indexOf(r));let u={...e,...t,activationTrigger:1};return e.dataRef.current.__demoMode&&e.dataRef.current.value===void 0&&(u.activeOptionIndex=0),u},[4]:(e,n)=>{let r=oe(e,t=>{let u=t.findIndex(a=>a.id===n.id);return u!==-1&&t.splice(u,1),t});return{...e,...r,activationTrigger:1}},[5]:(e,n)=>({...e,labelId:n.id})},ie=l.createContext(null);ie.displayName="ComboboxActionsContext";function X(e){let n=l.useContext(ie);if(n===null){let r=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,X),r}return n}let le=l.createContext(null);le.displayName="ComboboxDataContext";function K(e){let n=l.useContext(le);if(n===null){let r=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,K),r}return n}function Ae(e,n){return V(n.type,Me,e,n)}let _e=l.Fragment;function Ve(e,n){let{value:r,defaultValue:t,onChange:u,name:a,by:i=(f,x)=>f===x,disabled:g=!1,__demoMode:b=!1,nullable:s=!1,multiple:m=!1,...h}=e,[o=m?[]:void 0,p]=ve(r,u,t),[w,c]=l.useReducer(Ae,{dataRef:l.createRef(),comboboxState:b?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),O=l.useRef(!1),M=l.useRef({static:!1,hold:!1}),F=l.useRef(null),U=l.useRef(null),D=l.useRef(null),A=l.useRef(null),$=R(typeof i=="string"?(f,x)=>{let y=i;return(f==null?void 0:f[y])===(x==null?void 0:x[y])}:i),_=l.useCallback(f=>V(v.mode,{[1]:()=>o.some(x=>$(x,f)),[0]:()=>$(o,f)}),[o]),v=l.useMemo(()=>({...w,optionsPropsRef:M,labelRef:F,inputRef:U,buttonRef:D,optionsRef:A,value:o,defaultValue:t,disabled:g,mode:m?1:0,get activeOptionIndex(){if(O.current&&w.activeOptionIndex===null&&w.options.length>0){let f=w.options.findIndex(x=>!x.dataRef.current.disabled);if(f!==-1)return f}return w.activeOptionIndex},compare:$,isSelected:_,nullable:s,__demoMode:b}),[o,t,g,m,s,b,w]);k(()=>{w.dataRef.current=v},[v]),Se([v.buttonRef,v.inputRef,v.optionsRef],()=>te.closeCombobox(),v.comboboxState===0);let C=l.useMemo(()=>({open:v.comboboxState===0,disabled:g,activeIndex:v.activeOptionIndex,activeOption:v.activeOptionIndex===null?null:v.options[v.activeOptionIndex].dataRef.current.value,value:o}),[v,g,o]),L=R(f=>{let x=v.options.find(y=>y.id===f);!x||E(x.dataRef.current.value)}),d=R(()=>{if(v.activeOptionIndex!==null){let{dataRef:f,id:x}=v.options[v.activeOptionIndex];E(f.current.value),te.goToOption(I.Specific,x)}}),N=R(()=>{c({type:0}),O.current=!0}),T=R(()=>{c({type:1}),O.current=!1}),W=R((f,x,y)=>(O.current=!1,f===I.Specific?c({type:2,focus:I.Specific,id:x,trigger:y}):c({type:2,focus:f,trigger:y}))),G=R((f,x)=>(c({type:3,id:f,dataRef:x}),()=>c({type:4,id:f}))),Q=R(f=>(c({type:5,id:f}),()=>c({type:5,id:null}))),E=R(f=>V(v.mode,{[0](){return p==null?void 0:p(f)},[1](){let x=v.value.slice(),y=x.findIndex(J=>$(J,f));return y===-1?x.push(f):x.splice(y,1),p==null?void 0:p(x)}})),te=l.useMemo(()=>({onChange:E,registerOption:G,registerLabel:Q,goToOption:W,closeCombobox:T,openCombobox:N,selectActiveOption:d,selectOption:L}),[]),pe=n===null?{}:{ref:n},Y=l.useRef(null),be=ae();return l.useEffect(()=>{!Y.current||t!==void 0&&be.addEventListener(Y.current,"reset",()=>{E(t)})},[Y,E]),Z.createElement(ie.Provider,{value:te},Z.createElement(le.Provider,{value:v},Z.createElement(Ce,{value:V(v.comboboxState,{[0]:ne.Open,[1]:ne.Closed})},a!=null&&o!=null&&xe({[a]:o}).map(([f,x],y)=>Z.createElement(ye,{features:Te.Hidden,ref:y===0?J=>{var ue;Y.current=(ue=J==null?void 0:J.closest("form"))!=null?ue:null}:void 0,...he({key:f,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:f,value:x})})),B({ourProps:pe,theirProps:h,slot:C,defaultTag:_e,name:"Combobox"}))))}let je=j(Ve),Be="input",Ke=j(function(e,n){var r,t,u,a;let i=H(),{id:g=`headlessui-combobox-input-${i}`,onChange:b,displayValue:s,type:m="text",...h}=e,o=K("Combobox.Input"),p=X("Combobox.Input"),w=z(o.inputRef,n),c=l.useRef(!1),O=ae(),M=function(){var d;return typeof s=="function"&&o.value!==void 0?(d=s(o.value))!=null?d:"":typeof o.value=="string"?o.value:""}();de(([d,N],[T,W])=>{c.current||!o.inputRef.current||(W===0&&N===1||d!==T)&&(o.inputRef.current.value=d)},[M,o.comboboxState]),de(([d],[N])=>{if(d===0&&N===1){let T=o.inputRef.current;if(!T)return;let W=T.value,{selectionStart:G,selectionEnd:Q,selectionDirection:E}=T;T.value="",T.value=W,E!==null?T.setSelectionRange(G,Q,E):T.setSelectionRange(G,Q)}},[o.comboboxState]);let F=l.useRef(!1),U=R(()=>{F.current=!0}),D=R(()=>{setTimeout(()=>{F.current=!1})}),A=R(d=>{switch(c.current=!0,d.key){case S.Backspace:case S.Delete:if(o.mode!==0||!o.nullable)return;let N=d.currentTarget;O.requestAnimationFrame(()=>{N.value===""&&(p.onChange(null),o.optionsRef.current&&(o.optionsRef.current.scrollTop=0),p.goToOption(I.Nothing))});break;case S.Enter:if(c.current=!1,o.comboboxState!==0||F.current)return;if(d.preventDefault(),d.stopPropagation(),o.activeOptionIndex===null){p.closeCombobox();return}p.selectActiveOption(),o.mode===0&&p.closeCombobox();break;case S.ArrowDown:return c.current=!1,d.preventDefault(),d.stopPropagation(),V(o.comboboxState,{[0]:()=>{p.goToOption(I.Next)},[1]:()=>{p.openCombobox()}});case S.ArrowUp:return c.current=!1,d.preventDefault(),d.stopPropagation(),V(o.comboboxState,{[0]:()=>{p.goToOption(I.Previous)},[1]:()=>{p.openCombobox(),O.nextFrame(()=>{o.value||p.goToOption(I.Last)})}});case S.Home:if(d.shiftKey)break;return c.current=!1,d.preventDefault(),d.stopPropagation(),p.goToOption(I.First);case S.PageUp:return c.current=!1,d.preventDefault(),d.stopPropagation(),p.goToOption(I.First);case S.End:if(d.shiftKey)break;return c.current=!1,d.preventDefault(),d.stopPropagation(),p.goToOption(I.Last);case S.PageDown:return c.current=!1,d.preventDefault(),d.stopPropagation(),p.goToOption(I.Last);case S.Escape:return c.current=!1,o.comboboxState!==0?void 0:(d.preventDefault(),o.optionsRef.current&&!o.optionsPropsRef.current.static&&d.stopPropagation(),p.closeCombobox());case S.Tab:if(c.current=!1,o.comboboxState!==0)return;o.mode===0&&p.selectActiveOption(),p.closeCombobox();break}}),$=R(d=>{p.openCombobox(),b==null||b(d)}),_=R(()=>{c.current=!1}),v=re(()=>{if(o.labelId)return[o.labelId].join(" ")},[o.labelId]),C=l.useMemo(()=>({open:o.comboboxState===0,disabled:o.disabled}),[o]),L={ref:w,id:g,role:"combobox",type:m,"aria-controls":(r=o.optionsRef.current)==null?void 0:r.id,"aria-expanded":o.disabled?void 0:o.comboboxState===0,"aria-activedescendant":o.activeOptionIndex===null||(t=o.options[o.activeOptionIndex])==null?void 0:t.id,"aria-multiselectable":o.mode===1?!0:void 0,"aria-labelledby":v,"aria-autocomplete":"list",defaultValue:(a=(u=e.defaultValue)!=null?u:o.defaultValue!==void 0?s==null?void 0:s(o.defaultValue):null)!=null?a:o.defaultValue,disabled:o.disabled,onCompositionStart:U,onCompositionEnd:D,onKeyDown:A,onChange:$,onBlur:_};return B({ourProps:L,theirProps:h,slot:C,defaultTag:Be,name:"Combobox.Input"})}),Ue="button",We=j(function(e,n){var r;let t=K("Combobox.Button"),u=X("Combobox.Button"),a=z(t.buttonRef,n),i=H(),{id:g=`headlessui-combobox-button-${i}`,...b}=e,s=ae(),m=R(c=>{switch(c.key){case S.ArrowDown:return c.preventDefault(),c.stopPropagation(),t.comboboxState===1&&u.openCombobox(),s.nextFrame(()=>{var O;return(O=t.inputRef.current)==null?void 0:O.focus({preventScroll:!0})});case S.ArrowUp:return c.preventDefault(),c.stopPropagation(),t.comboboxState===1&&(u.openCombobox(),s.nextFrame(()=>{t.value||u.goToOption(I.Last)})),s.nextFrame(()=>{var O;return(O=t.inputRef.current)==null?void 0:O.focus({preventScroll:!0})});case S.Escape:return t.comboboxState!==0?void 0:(c.preventDefault(),t.optionsRef.current&&!t.optionsPropsRef.current.static&&c.stopPropagation(),u.closeCombobox(),s.nextFrame(()=>{var O;return(O=t.inputRef.current)==null?void 0:O.focus({preventScroll:!0})}));default:return}}),h=R(c=>{if(Pe(c.currentTarget))return c.preventDefault();t.comboboxState===0?u.closeCombobox():(c.preventDefault(),u.openCombobox()),s.nextFrame(()=>{var O;return(O=t.inputRef.current)==null?void 0:O.focus({preventScroll:!0})})}),o=re(()=>{if(t.labelId)return[t.labelId,g].join(" ")},[t.labelId,g]),p=l.useMemo(()=>({open:t.comboboxState===0,disabled:t.disabled,value:t.value}),[t]),w={ref:a,id:g,type:Ee(e,t.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(r=t.optionsRef.current)==null?void 0:r.id,"aria-expanded":t.disabled?void 0:t.comboboxState===0,"aria-labelledby":o,disabled:t.disabled,onClick:h,onKeyDown:m};return B({ourProps:w,theirProps:b,slot:p,defaultTag:Ue,name:"Combobox.Button"})}),qe="label",ze=j(function(e,n){let r=H(),{id:t=`headlessui-combobox-label-${r}`,...u}=e,a=K("Combobox.Label"),i=X("Combobox.Label"),g=z(a.labelRef,n);k(()=>i.registerLabel(t),[t]);let b=R(()=>{var m;return(m=a.inputRef.current)==null?void 0:m.focus({preventScroll:!0})}),s=l.useMemo(()=>({open:a.comboboxState===0,disabled:a.disabled}),[a]);return B({ourProps:{ref:g,id:t,onClick:b},theirProps:u,slot:s,defaultTag:qe,name:"Combobox.Label"})}),He="ul",Xe=se.RenderStrategy|se.Static,Ge=j(function(e,n){let r=H(),{id:t=`headlessui-combobox-options-${r}`,hold:u=!1,...a}=e,i=K("Combobox.Options"),g=z(i.optionsRef,n),b=Re(),s=(()=>b!==null?b===ne.Open:i.comboboxState===0)();k(()=>{var o;i.optionsPropsRef.current.static=(o=e.static)!=null?o:!1},[i.optionsPropsRef,e.static]),k(()=>{i.optionsPropsRef.current.hold=u},[i.optionsPropsRef,u]),ke({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(o){return o.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:o.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(o){o.setAttribute("role","none")}});let m=re(()=>{var o,p;return(p=i.labelId)!=null?p:(o=i.buttonRef.current)==null?void 0:o.id},[i.labelId,i.buttonRef.current]),h=l.useMemo(()=>({open:i.comboboxState===0}),[i]);return B({ourProps:{"aria-labelledby":m,role:"listbox",id:t,ref:g},theirProps:a,slot:h,defaultTag:He,features:Xe,visible:s,name:"Combobox.Options"})}),Qe="li",Ye=j(function(e,n){var r,t;let u=H(),{id:a=`headlessui-combobox-option-${u}`,disabled:i=!1,value:g,...b}=e,s=K("Combobox.Option"),m=X("Combobox.Option"),h=s.activeOptionIndex!==null?s.options[s.activeOptionIndex].id===a:!1,o=s.isSelected(g),p=l.useRef(null),w=Oe({disabled:i,value:g,domRef:p,textValue:(t=(r=p.current)==null?void 0:r.textContent)==null?void 0:t.toLowerCase()}),c=z(n,p),O=R(()=>m.selectOption(a));k(()=>m.registerOption(a,w),[w,a]);let M=l.useRef(!s.__demoMode);k(()=>{if(!s.__demoMode)return;let C=ce();return C.requestAnimationFrame(()=>{M.current=!0}),C.dispose},[]),k(()=>{if(s.comboboxState!==0||!h||!M.current||s.activationTrigger===0)return;let C=ce();return C.requestAnimationFrame(()=>{var L,d;(d=(L=p.current)==null?void 0:L.scrollIntoView)==null||d.call(L,{block:"nearest"})}),C.dispose},[p,h,s.comboboxState,s.activationTrigger,s.activeOptionIndex]);let F=R(C=>{if(i)return C.preventDefault();O(),s.mode===0&&m.closeCombobox()}),U=R(()=>{if(i)return m.goToOption(I.Nothing);m.goToOption(I.Specific,a)}),D=me(),A=R(C=>D.update(C)),$=R(C=>{!D.wasMoved(C)||i||h||m.goToOption(I.Specific,a,0)}),_=R(C=>{!D.wasMoved(C)||i||!h||s.optionsPropsRef.current.hold||m.goToOption(I.Nothing)}),v=l.useMemo(()=>({active:h,selected:o,disabled:i}),[h,o,i]);return B({ourProps:{id:a,ref:c,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":o,disabled:void 0,onClick:F,onFocus:U,onPointerEnter:A,onMouseEnter:A,onPointerMove:$,onMouseMove:$,onPointerLeave:_,onMouseLeave:_},theirProps:b,slot:v,defaultTag:Qe,name:"Combobox.Option"})}),q=Object.assign(je,{Input:Ke,Button:We,Label:ze,Options:Ge,Option:Ye});function Je({title:e,titleId:n,...r},t){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":n},r),e?l.createElement("title",{id:n},e):null,l.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"}))}const Ze=l.forwardRef(Je),et=Ze;function tt({title:e,titleId:n,...r},t){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":n},r),e?l.createElement("title",{id:n},e):null,l.createElement("path",{fillRule:"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.2a.75.75 0 011.06.04l2.7 2.908 2.7-2.908a.75.75 0 111.1 1.02l-3.25 3.5a.75.75 0 01-1.1 0l-3.25-3.5a.75.75 0 01.04-1.06z",clipRule:"evenodd"}))}const ot=l.forwardRef(tt),nt=ot;function ct({ShouldMap:e,selected:n,tampilkanvalue:r="false",onChange:t,name:u}){const[a,i]=l.useState(""),g=a===""?e:e.filter(b=>b.name.toLowerCase().replace(/\s+/g,"").includes(a.toLowerCase().replace(/\s+/g,"")));return P("div",{className:"",children:P(q,{value:n,onChange:t,name:u,children:ee("div",{className:"relative mt-1",children:[ee("div",{className:"relative w-full overflow-hidden text-left bg-white border border-gray-300 rounded-md shadow-sm cursor-default focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300",children:[P(q.Input,{className:"w-full py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 break-words border-none focus:ring-0",autoComplete:"off",displayValue:b=>b.value?"("+b.value+") "+b.name:b.name,onChange:b=>i(b.target.value)}),P(q.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:P(nt,{className:"w-5 h-5 text-gray-400","aria-hidden":"true"})})]}),P(Ie,{as:l.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>i(""),children:P(q.Options,{className:"absolute z-10 w-full py-1 mt-1 overflow-auto text-base break-words bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:g.length===0&&a!==""?P("div",{className:"relative px-4 py-2 text-gray-700 cursor-default select-none",children:"Nothing found."}):g.map(b=>P(q.Option,{className:({active:s})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${s?"bg-teal-600 text-white":"text-gray-900"}`,value:b,children:({selected:s,active:m})=>ee(fe,{children:[ee("span",{className:`block truncate ${s?"font-medium":"font-normal"}`,children:[b.value," ",b.name]}),s?P("span",{className:`absolute inset-y-0 left-0 flex items-center pl-3 ${m?"text-white":"text-teal-600"}`,children:P(et,{className:"w-5 h-5","aria-hidden":"true"})}):null]})},b.id))})})]})})})}export{ct as C,ke as F,et as a,q as k};
