import{r as i,R as b}from"./app-e63dc518.js";import{l as J,u as g,m as X,p as W,s as F,j as de,V as _,y as Y,w as x,a as Z,o as R,b as fe,e as ve,X as ee}from"./render-d70bc49e.js";let q=i.createContext(null);q.displayName="OpenClosedContext";var P=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(P||{});function te(){return i.useContext(q)}function me({value:e,children:t}){return b.createElement(q.Provider,{value:e},t)}function re(){let e=i.useRef(!1);return J(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function pe(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function k(e,...t){e&&t.length>0&&e.classList.add(...t)}function I(e,...t){e&&t.length>0&&e.classList.remove(...t)}function he(e,t){let n=X();if(!e)return n.dispose;let{transitionDuration:l,transitionDelay:d}=getComputedStyle(e),[h,f]=[l,d].map(o=>{let[u=0]=o.split(",").filter(Boolean).map(a=>a.includes("ms")?parseFloat(a):parseFloat(a)*1e3).sort((a,p)=>p-a);return u});if(h+f!==0){let o=n.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),o())})}else t();return n.add(()=>t()),n.dispose}function be(e,t,n,l){let d=n?"enter":"leave",h=X(),f=l!==void 0?pe(l):()=>{};d==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let o=g(d,{enter:()=>t.enter,leave:()=>t.leave}),u=g(d,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),a=g(d,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return I(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),k(e,...o,...a),h.nextFrame(()=>{I(e,...a),k(e,...u),he(e,()=>(I(e,...o),k(e,...t.entered),f()))}),h.dispose}function Ee({container:e,direction:t,classes:n,onStart:l,onStop:d}){let h=re(),f=W(),o=F(t);J(()=>{let u=X();f.add(u.dispose);let a=e.current;if(a&&o.current!=="idle"&&h.current)return u.dispose(),l.current(o.current),u.add(be(a,n.current,o.current==="enter",()=>{u.dispose(),d.current(o.current)})),u.dispose},[t])}function S(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let O=i.createContext(null);O.displayName="TransitionContext";var ge=(e=>(e.Visible="visible",e.Hidden="hidden",e))(ge||{});function Te(){let e=i.useContext(O);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Ce(){let e=i.useContext(D);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let D=i.createContext(null);D.displayName="NestingContext";function A(e){return"children"in e?A(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function ne(e,t){let n=F(e),l=i.useRef([]),d=re(),h=W(),f=R((c,r=x.Hidden)=>{let v=l.current.findIndex(({el:s})=>s===c);v!==-1&&(g(r,{[x.Unmount](){l.current.splice(v,1)},[x.Hidden](){l.current[v].state="hidden"}}),h.microTask(()=>{var s;!A(l)&&d.current&&((s=n.current)==null||s.call(n))}))}),o=R(c=>{let r=l.current.find(({el:v})=>v===c);return r?r.state!=="visible"&&(r.state="visible"):l.current.push({el:c,state:"visible"}),()=>f(c,x.Unmount)}),u=i.useRef([]),a=i.useRef(Promise.resolve()),p=i.useRef({enter:[],leave:[],idle:[]}),T=R((c,r,v)=>{u.current.splice(0),t&&(t.chains.current[r]=t.chains.current[r].filter(([s])=>s!==c)),t==null||t.chains.current[r].push([c,new Promise(s=>{u.current.push(s)})]),t==null||t.chains.current[r].push([c,new Promise(s=>{Promise.all(p.current[r].map(([m,E])=>E)).then(()=>s())})]),r==="enter"?a.current=a.current.then(()=>t==null?void 0:t.wait.current).then(()=>v(r)):v(r)}),C=R((c,r,v)=>{Promise.all(p.current[r].splice(0).map(([s,m])=>m)).then(()=>{var s;(s=u.current.shift())==null||s()}).then(()=>v(r))});return i.useMemo(()=>({children:l,register:o,unregister:f,onStart:T,onStop:C,wait:a,chains:p}),[o,f,l,T,C,p,a])}function we(){}let $e=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Q(e){var t;let n={};for(let l of $e)n[l]=(t=e[l])!=null?t:we;return n}function xe(e){let t=i.useRef(Q(e));return i.useEffect(()=>{t.current=Q(e)},[e]),t}let Se="div",ie=de.RenderStrategy,le=_(function(e,t){let{beforeEnter:n,afterEnter:l,beforeLeave:d,afterLeave:h,enter:f,enterFrom:o,enterTo:u,entered:a,leave:p,leaveFrom:T,leaveTo:C,...c}=e,r=i.useRef(null),v=Y(r,t),s=c.unmount?x.Unmount:x.Hidden,{show:m,appear:E,initial:ue}=Te(),[w,M]=i.useState(m?"visible":"hidden"),z=Ce(),{register:y,unregister:L}=z,U=i.useRef(null);i.useEffect(()=>y(r),[y,r]),i.useEffect(()=>{if(s===x.Hidden&&r.current){if(m&&w!=="visible"){M("visible");return}return g(w,{hidden:()=>L(r),visible:()=>y(r)})}},[w,r,y,L,m,s]);let j=F({enter:S(f),enterFrom:S(o),enterTo:S(u),entered:S(a),leave:S(p),leaveFrom:S(T),leaveTo:S(C)}),H=xe({beforeEnter:n,afterEnter:l,beforeLeave:d,afterLeave:h}),B=Z();i.useEffect(()=>{if(B&&w==="visible"&&r.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[r,w,B]);let K=ue&&!E,se=(()=>!B||K||U.current===m?"idle":m?"enter":"leave")(),ae=R($=>g($,{enter:()=>H.current.beforeEnter(),leave:()=>H.current.beforeLeave(),idle:()=>{}})),oe=R($=>g($,{enter:()=>H.current.afterEnter(),leave:()=>H.current.afterLeave(),idle:()=>{}})),N=ne(()=>{M("hidden"),L(r)},z);Ee({container:r,classes:j,direction:se,onStart:F($=>{N.onStart(r,$,ae)}),onStop:F($=>{N.onStop(r,$,oe),$==="leave"&&!A(N)&&(M("hidden"),L(r))})}),i.useEffect(()=>{!K||(s===x.Hidden?U.current=null:U.current=m)},[m,K,w]);let V=c,ce={ref:v};return E&&m&&fe.isServer&&(V={...V,className:ve(c.className,...j.current.enter,...j.current.enterFrom)}),b.createElement(D.Provider,{value:N},b.createElement(me,{value:g(w,{visible:P.Open,hidden:P.Closed})},ee({ourProps:ce,theirProps:V,defaultTag:Se,features:ie,visible:w==="visible",name:"Transition.Child"})))}),G=_(function(e,t){let{show:n,appear:l=!1,unmount:d,...h}=e,f=i.useRef(null),o=Y(f,t);Z();let u=te();if(n===void 0&&u!==null&&(n=g(u,{[P.Open]:!0,[P.Closed]:!1})),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[a,p]=i.useState(n?"visible":"hidden"),T=ne(()=>{p("hidden")}),[C,c]=i.useState(!0),r=i.useRef([n]);J(()=>{C!==!1&&r.current[r.current.length-1]!==n&&(r.current.push(n),c(!1))},[r,n]);let v=i.useMemo(()=>({show:n,appear:l,initial:C}),[n,l,C]);i.useEffect(()=>{if(n)p("visible");else if(!A(T))p("hidden");else{let m=f.current;if(!m)return;let E=m.getBoundingClientRect();E.x===0&&E.y===0&&E.width===0&&E.height===0&&p("hidden")}},[n,T]);let s={unmount:d};return b.createElement(D.Provider,{value:T},b.createElement(O.Provider,{value:v},ee({ourProps:{...s,as:i.Fragment,children:b.createElement(le,{ref:o,...s,...h})},theirProps:{},defaultTag:i.Fragment,features:ie,visible:a==="visible",name:"Transition"})))}),Re=_(function(e,t){let n=i.useContext(O)!==null,l=te()!==null;return b.createElement(b.Fragment,null,!n&&l?b.createElement(G,{ref:t,...e}):b.createElement(le,{ref:t,...e}))}),ye=Object.assign(G,{Child:Re,Root:G});export{me as C,ye as K,re as f,P as p,te as s};
