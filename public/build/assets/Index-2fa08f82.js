import{r as l,l as z,g as B,j as n,F as ee,a as e,n as ie}from"./app-12155d7d.js";import{D as te}from"./DangerButton-c58d72ae.js";import{A as ne}from"./App-6ac09be6.js";import{A as ae}from"./AddModal-1ce4034a.js";import{D as O}from"./DestroyModal-1c88ac33.js";import{E as Y}from"./EditModal-e366d75a.js";import oe from"./Edit-691258be.js";import{T as g}from"./ThirdButton-52bd21f1.js";import re from"./Create-81aae4a4.js";import le from"./Edit-36a04a79.js";import{T as o,B as se,P as de}from"./Badge-01462512.js";import{h as D}from"./moment-fbc5633a.js";import{S as ce}from"./SecondaryButton-456a1177.js";import"./ApplicationLogo-078c895e.js";import"./transition-7636f647.js";import"./render-01be6b0f.js";import"./index-85bae41e.js";import"./use-tracked-pointer-84df31e5.js";import"./keyboard-b2167fef.js";import"./use-outside-click-3ace941d.js";import"./use-tree-walker-998eddf4.js";import"./use-controllable-94ca8b47.js";import"./use-watch-db60be17.js";import"./dialog-9ebd5ace.js";import"./description-c657afff.js";import"./TextInput-d440a1d3.js";import"./ComboboxMultiple-670ab608.js";import"./clsx-938d7c3e.js";import"./inheritsLoose-c4a937f7.js";import"./createClass-1dd8160f.js";import"./defineProperty-741a9c8e.js";/* empty css                         */import"./ComboboxMultipleWithOutSemuaUnit-b3e6ea07.js";import"./BPKP-e9b4a299.js";import"./InputLabel-a6ff48db.js";import"./PrimaryButton-bf4695c7.js";import"./index-da398f32.js";import"./ComboboxMultiple copy-0f9bb67d.js";import"./ComboboxPage-0458995e.js";import"./LarsDHPKlinis-522e3975.js";import"./LarsDHPNonKlinis-90ef930d.js";import"./SedangTerjadi-6ed79b7b.js";import"./IKPDataInsiden-79e1ae82.js";import"./IKPDataEvaluasi-65d5caaa.js";import"./Form-852de7cc.js";import"./InputError-b39280a0.js";import"./TextAreaInput-fc20fc43.js";import"./ComboboxPageReadonly-dac85ff0.js";import"./Form-ec555f47.js";const c=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),p=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})});function pe(r){const{data:m,meta:_,filtered:R,attributes:u}=r.IkpPasien;let w={IkpJenisInsiden:r.IkpJenisInsiden,IkpTipeInsiden:r.IkpTipeInsiden,IkpSpesialisasi:r.IkpSpesialisasi,IkpDampak:r.IkpDampak,IkpProbabilitas:r.IkpProbabilitas,IkpPelapor:r.IkpPelapor,IkpGrupLayanan:r.IkpGrupLayanan,IkpPenanggung:r.IkpPenanggung,IkpLokasi:r.IkpLokasi,IkpPenindak:r.IkpPenindak,pics:r.pics,IkpTerjadiTempatLain:[{id:0,name:"Tidak"},{id:1,name:"Ya"}],JenisKelamin:[{id:1,name:"Laki - Laki"},{id:2,name:"Perempuan"},{id:3,name:"-"}],IkpVerifikasi:[{id:0,name:"Tidak"},{id:1,name:"Ya"}],IkpInvestigasiLengkap:[{id:0,name:"Tidak"},{id:1,name:"Ya"}],IkpInvestigasiLanjut:[{id:0,name:"Tidak"},{id:1,name:"Ya"}]};const[H,F]=l.useState([]),[t,y]=l.useState(R),[K,A]=l.useState(!0),W=l.useCallback(z.debounce(i=>{B.get(route(route().current()),{...z.pickBy(i),page:i.page},{preserveState:!0,preserveScroll:!0})},150),[]);l.useEffect(()=>{K?A(!1):W(t)},[t]),l.useEffect(()=>{let i=[];for(let s=u.per_page;s<u.total/u.per_page;s=s+u.per_page)i.push(s);F(i)},[]);const T=i=>{const s={...t,[i.target.name]:i.target.value,page:1};y(s)},d=i=>{y({...t,field:i,direction:t.direction=="asc"?"desc":"asc"})},[a,C]=l.useState(null),[me,k]=l.useState(null),[N,v]=l.useState(!1),[E,I]=l.useState(!1),[L,b]=l.useState(!1),[J,x]=l.useState(!1),[$,M]=l.useState(!1),[f,h]=l.useState([]),G=()=>{v(!0)},q=i=>{C(a===i?null:i)},U=i=>{h(i),k(i),I(!0)},V=i=>{h(i),k(i),x(!0)},Q=()=>{B.delete(route("IkpPasien.destroy",f.id),{onSuccess:()=>x(!1)})},X=i=>{h(i),k(i),b(!0)},Z=i=>{h(i),k(i),M(!0)};return n(ee,{children:[e(ie,{title:"IKP Form"}),e(ae,{isOpenAddDialog:N,setIsOpenAddDialog:v,size:"max-w-7xl",title:"Tambah IKP Form",children:e(re,{ShouldMap:w,isOpenAddDialog:N,setIsOpenAddDialog:v})}),e(Y,{isOpenEditDialog:E,setIsOpenEditDialog:I,size:"max-w-7xl",title:"Edit IKP Form",children:e(le,{model:f,ShouldMap:w,isOpenEditDialog:E,setIsOpenEditDialog:I})}),e(Y,{isOpenEditDialog:L,setIsOpenEditDialog:b,size:"max-w-6xl",title:"Edit Hasil Investigasi",children:e(oe,{model:f,ShouldMap:w,isOpenEditDialog:L,setIsOpenEditDialog:b})}),e(O,{isOpenDestroyDialog:J,setIsOpenDestroyDialog:x,size:"max-w-4xl",title:"Delete IKP Form",warning:"Yakin hapus data ini ?",children:e(te,{className:"ml-2",onClick:Q,children:"Delete"})}),e(O,{isOpenDestroyDialog:$,setIsOpenDestroyDialog:M,size:"max-w-4xl",title:"Print IKP Form",warning:"Yakin print data ini ?",children:e(ce,{className:"ml-2",onClick:i=>{h(i),window.open(route("export.printFormInvestigasiSederhana",f.code)),M(!1)},children:"Print"})}),e("div",{className:"px-2 py-12 bg-white border rounded-xl",children:n("div",{className:"mx-auto sm:px-6 lg:px-8",children:[n("div",{className:"flex items-center justify-between mb-2",children:[e("div",{className:"w-1/2",children:n("div",{className:"flex items-center justify-start mt-2 mb-0 gap-x-1",children:[n(g,{type:"button",color:"sky",onClick:G,children:["Tambah IKP",n("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 ml-2 icon icon-tabler icon-tabler-square-rounded-plus",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M9 12h6"}),e("path",{d:"M12 9v6"}),e("path",{d:"M12 3c7.2 0 9 1.8 9 9s-1.8 9 -9 9s-9 -1.8 -9 -9s1.8 -9 9 -9z"})]})]}),n(g,{color:a===null?"gray":"blue",type:"button",className:`${a===null?"cursor-not-allowed":""}`,onClick:()=>{if(a!==null){const i=m[a];U(i)}},disabled:a===null,children:["Edit",n("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 ml-2 icon icon-tabler icon-tabler-edit",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"}),e("path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"}),e("path",{d:"M16 5l3 3"})]})]}),n(g,{color:a===null?"gray":"red",type:"button",className:`${a===null?"cursor-not-allowed":""}`,onClick:()=>{if(a!==null){const i=m[a];V(i)}},disabled:a===null,children:["Delete",n("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 ml-2 icon icon-tabler icon-tabler-trash",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M4 7l16 0"}),e("path",{d:"M10 11l0 6"}),e("path",{d:"M14 11l0 6"}),e("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),e("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})]}),n(g,{color:a===null?"gray":"yellow",type:"button",className:`${a===null?"cursor-not-allowed":""}`,onClick:()=>{if(a!==null){const i=m[a];X(i)}},disabled:a===null,children:["Hasil Investigasi",n("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 ml-2 icon icon-tabler icon-tabler-report-search",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M8 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h5.697"}),e("path",{d:"M18 12v-5a2 2 0 0 0 -2 -2h-2"}),e("path",{d:"M8 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"}),e("path",{d:"M8 11h4"}),e("path",{d:"M8 15h3"}),e("path",{d:"M16.5 17.5m-2.5 0a2.5 2.5 0 1 0 5 0a2.5 2.5 0 1 0 -5 0"}),e("path",{d:"M18.5 19.5l2.5 2.5"})]})]}),n(g,{color:a===null?"gray":"yellow",type:"button",className:`${a===null?"cursor-not-allowed":""}`,onClick:()=>{if(a!==null){const i=m[a];Z(i)}},disabled:a===null,children:["Print",n("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 ml-2 icon icon-tabler icon-tabler-report-search",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M8 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h5.697"}),e("path",{d:"M18 12v-5a2 2 0 0 0 -2 -2h-2"}),e("path",{d:"M8 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"}),e("path",{d:"M8 11h4"}),e("path",{d:"M8 15h3"}),e("path",{d:"M16.5 17.5m-2.5 0a2.5 2.5 0 1 0 5 0a2.5 2.5 0 1 0 -5 0"}),e("path",{d:"M18.5 19.5l2.5 2.5"})]})]})]})}),e("div",{className:"w-1/2",children:n("div",{className:"flex items-center justify-end mt-2 mb-0 gap-x-1",children:[e("select",{name:"load",id:"load",onChange:T,value:t.load,className:"transition duration-150 ease-in-out border-gray-300 rounded-lg focus:ring-blue-200 focus:ring form-select",children:H.map((i,s)=>e("option",{children:i},s))}),n("div",{className:"flex items-center px-2 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg gap-x-2 focus-within:border-blue-400 focus-within:ring-blue-200 focus-within:ring",children:[e("svg",{className:"inline w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",autoComplete:"off",name:"q",id:"q",onChange:T,value:t.q,className:"w-full border-0 focus:ring-0 form-text"})]})]})})]}),n(o,{children:[e(o.Thead,{children:n(o.Tr,{children:[e(o.Th,{children:"#"}),n(o.Th,{onClick:()=>d("tanggal_insiden"),children:["Tanggal_Kejadian",t.field=="tanggal_insiden"&&t.direction=="asc"&&e(c,{}),t.field=="tanggal_insiden"&&t.direction=="desc"&&e(p,{})]}),n(o.Th,{onClick:()=>d("created_at"),children:["Tanggal Melapor",t.field=="created_at"&&t.direction=="asc"&&e(c,{}),t.field=="created_at"&&t.direction=="desc"&&e(p,{})]}),n(o.Th,{onClick:()=>d("lokasi_name"),children:["Unit",t.field=="lokasi_name"&&t.direction=="asc"&&e(c,{}),t.field=="lokasi_name"&&t.direction=="desc"&&e(p,{})]}),n(o.Th,{onClick:()=>d("ikp_jenis_insiden_id"),children:["Jenis Insiden",t.field=="ikp_jenis_insiden_id"&&t.direction=="asc"&&e(c,{}),t.field=="ikp_jenis_insiden_id"&&t.direction=="desc"&&e(p,{})]}),n(o.Th,{onClick:()=>d("insiden"),children:["Insiden",t.field=="insiden"&&t.direction=="asc"&&e(c,{}),t.field=="insiden"&&t.direction=="desc"&&e(p,{})]}),n(o.Th,{onClick:()=>d("ikp_penanggung_id"),children:["Penannggung Jawab Biaya",t.field=="ikp_penanggung_id"&&t.direction=="asc"&&e(c,{}),t.field=="ikp_penanggung_id"&&t.direction=="desc"&&e(p,{})]}),n(o.Th,{onClick:()=>d("concatdp"),children:["Grading",t.field=="concatdp"&&t.direction=="asc"&&e(c,{}),t.field=="concatdp"&&t.direction=="desc"&&e(p,{})]}),n(o.Th,{onClick:()=>d("concatdp2"),children:["Grading Setelah Investigasi",t.field=="concatdp2"&&t.direction=="asc"&&e(c,{}),t.field=="concatdp2"&&t.direction=="desc"&&e(p,{})]})]})}),e(o.Tbody,{children:m.map((i,s)=>{var S,P,j;return n("tr",{className:a===s?"bg-sky-100  cursor-pointer":i.riskgrading.name_ikp=="Ekstrim"?"cursor-pointer text-white bg-red-500":i.riskgrading.name_ikp=="Tinggi"?"cursor-pointer text-white bg-amber-500":i.riskgrading.name_ikp=="Moderat"?"cursor-pointer text-white bg-green-500":"cursor-pointer text-white bg-sky-500",onClick:()=>q(s),children:[e(o.Td,{children:e(se,{children:_.from+s})}),n(o.Td,{children:[D(i.tanggal_insiden).format("DD-MM-YYYY")," (",D(i.tanggal_insiden).format("hh:mm"),")"]}),e(o.Td,{className:"whitespace-nowrap",children:D(i.created_at).format("DD-MM-YYYY")}),e(o.Td,{children:i.lokasi_name}),e(o.Td,{children:(S=i.jenis_insiden)==null?void 0:S.name}),e(o.Td,{children:i.insiden}),e(o.Td,{children:(P=i.penanggung)==null?void 0:P.name}),e(o.Td,{children:(j=i.riskgrading)==null?void 0:j.name_ikp}),e(o.Td,{children:i.hasil_grading?i.hasil_grading.name_ikp:"Belum Investigasi"})]},s)})})]}),e(de,{meta:_})]})})]})}pe.layout=r=>e(ne,{children:r});export{pe as default};
