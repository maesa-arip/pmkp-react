import{K as j,r as l,_ as u,j as o,a as e}from"./app-d3d4087f.js";import{I as p}from"./InputLabel-ad77c239.js";import{P as U}from"./PrimaryButton-588a671c.js";import{S as A}from"./SecondaryButton-b1b12734.js";import"./TextInput-d85a7c80.js";import{t as h}from"./index-d99e617b.js";/* empty css                         */import{C as B}from"./ComboboxMultipleWithOutSemuaUnit-5f7dc2f1.js";import"./ComboboxMultiple copy-0d08919f.js";import"./createClass-1dd8160f.js";import"./defineProperty-741a9c8e.js";import"./clsx-d5d5bd50.js";import"./inheritsLoose-c4a937f7.js";function $({setIsOpenAddDialog:f}){const{data:s,setData:d,post:P,reset:T,errors:F,processing:K}=j({startDate:"",endDate:"",userId:""}),w=t=>f(!1),[x,b]=l.useState(""),[y,D]=l.useState(""),[k,v]=l.useState(null),[S,c]=l.useState(!1),i={year:"numeric",month:"long"},C=t=>{t.preventDefault();const a="/print-indikator-mutu",n={startDate:x,endDate:y,userId:k};c(!0);const M=n.startDate?new Date(n.startDate).toLocaleDateString("en-CA",i):"",E=n.startDate?new Date(n.endDate).toLocaleDateString("en-CA",i):"";axios.post(a,n,{responseType:"blob"}).then(m=>{const I=window.URL.createObjectURL(new Blob([m.data])),r=document.createElement("a");r.href=I,r.setAttribute("download","Form Indikator Mutu "+M+"-"+E+".pdf"),document.body.appendChild(r),r.click(),r.remove(),f(!1),c(!1)}).catch(m=>{console.error(m),c(!1)})};u().props;const{pics:L}=u().props,{auth:W,permissionNames:g}=u().props,N=g?g.map(t=>t.name):"null";return o("form",{onSubmit:C,children:[e("div",{className:"px-4 py-5 bg-white sm:p-6",children:o("div",{className:"grid grid-cols-12 gap-6",children:[o("div",{className:"col-span-12 px-3 py-4 text-base font-semibold text-gray-700 rounded shadow",children:[o("svg",{xmlns:"http://www.w3.org/2000/svg",className:"justify-center inline w-6 h-6 mr-3 -mt-1 text-center text-white rounded-full bg-gradient-to-r from-yellow-300 via-yellow-500 to-yellow-600 icon icon-tabler icon-tabler-info-circle",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("circle",{cx:12,cy:12,r:9}),e("line",{x1:12,y1:8,x2:"12.01",y2:8}),e("polyline",{points:"11 12 12 12 12 16 13 16"})]}),"Kosongkan Tanggal dan Langsung Tekan Export Jika Ingin Export Data Dari Awal Sampai Sekarang."]}),o("div",{className:"col-span-6",children:[e(p,{className:"text-base font-semibold",for:"startDate",value:"Start Date"}),e(h,{dateFormat:"MMMM yyyy",value:s.startDate?new Date(s.startDate).toLocaleDateString("en-CA",i):null,showMonthYearPicker:!0,id:"startDate",name:"startDate",autoComplete:"off",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onChange:t=>{b(t);const a=new Date(t).toLocaleDateString("en-CA");d("startDate",a)}})]}),o("div",{className:"col-span-6",children:[e(p,{className:"text-base font-semibold",for:"endDate",value:"End Date"}),e(h,{dateFormat:"MMMM yyyy",value:s.endDate?new Date(s.endDate).toLocaleDateString("en-CA",i):null,showMonthYearPicker:!0,id:"endDate",name:"endDate",autoComplete:"off",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onChange:t=>{D(t);const a=new Date(t).toLocaleDateString("en-CA");d("endDate",a)}})]}),N.indexOf("lihat semua data indikator mutu")>-1&&o("div",{className:"col-span-12",children:[e(p,{className:"text-base font-semibold",for:"Pilih Unit",value:"Pilih Unit"}),o("div",{className:"col-span-12 px-3 py-4 mb-2 text-base font-semibold text-gray-700 border rounded",children:[o("svg",{xmlns:"http://www.w3.org/2000/svg",className:"justify-center inline w-6 h-6 mr-3 -mt-1 text-center text-white rounded-full bg-gradient-to-r from-yellow-300 via-yellow-500 to-yellow-600 icon icon-tabler icon-tabler-info-circle",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("circle",{cx:12,cy:12,r:9}),e("line",{x1:12,y1:8,x2:"12.01",y2:8}),e("polyline",{points:"11 12 12 12 12 16 13 16"})]}),"Kosongkan dan Langsung Tekan Export Jika Ingin Menarik Semua Unit."]}),e(B,{ShouldMap:L,name:"userId",onChange:t=>{v(t),d("userId",t)},defaultValues:[]})]})]})}),o("div",{className:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[S?e("button",{className:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-gray-800 border border-transparent rounded-md cursor-not-allowed hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",disabled:!0,children:"Exporting..."}):e(U,{children:"Export"}),e(A,{className:"mx-2",onClick:w,children:"Close"})]})]})}export{$ as default};
